<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Trying to ease the pains of IE testing on the Mac.">

    <title>
        
            IE6, IE7 & IE8, meet VMWare Fusion &middot; Edd Mann
        
    </title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles.css">

    <link rel="shortcut icon" href="/favicon.ico">

    <link rel="alternate" href="/rss.xml" title="" type="application/rss+xml">

    <script>
        var _gaq=[['_setAccount','UA-32512081-1'],['_setDomainName','eddmann.com'],['_trackPageview']];
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = 'https://ssl.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>

    <body>
        <div class="container content">
            <header class="masthead">
                <h3 class="masthead-title">
                    <a href="/" title="Home">Edd Mann</a>
                    <small><i class="fa fa-code"></i> Developer</small>
                </h3>
                <nav>
                    <a href="https://twitter.com/edd_mann"><i class="fa fa-twitter"></i></a>
                    <a href="https://github.com/eddmann"><i class="fa fa-github"></i></a>
                    <a href="mailto:the@eddmann.com"><i class="fa fa-envelope"></i></a>
                </nav>
                <div class="cf"></div>
            </header>

            <main>
                <article class="post">
    <h1 class="post-title">IE6, IE7 & IE8, meet VMWare Fusion</h1>
    <time datetime="2012-03-31T00:00:00+00:00" class="post-date">31 Mar 2012</time>
    <p>Unfortunately as a web developer you will undoubtedly encounter the need to support one (or more) of the three browsers mentioned in this article’s title.
It is a sad but true state we are in and making it as seamless as possible goes someway in taking the sting out of it.
</p>

<p>I have spent many hours researching into making these browser tests less painful and the first tool I got hooked on was a Windows only application called <a href="http://www.my-debugbar.com/wiki/IETester/HomePage">IETester</a>.
This application packaged the different engines found in each version of IE, and allowed you to create new tabs based on the engine version you wished to test for.
Initially, I thought this was a great idea but I encountered numerous issues with JavaScript execution and small differences in how the application rendered a page, leading me to have to look for another solution.</p>

<p>Fortunately, Microsoft have been nice enough to provide the web development community with multiple Virtual PC images that allow us to legally test for compatibility in a evaluative XP, Vista or 7 environment.
Unfortunately, being Virtual PC images these work great for use on a Windows box but what about the people who have not got that ‘luxury’.
Well luckily for us there are a few workarounds that are available.
One of which is using <a href="https://github.com/xdissent/ievms">ievms</a>, which does exactly what it says on its GitHub repo page and automates the installation for both Linux and Mac OS platforms using VirtualBox. I would highly recommend you check this out if you wish to use VirtualBox, personally I prefer VMWare Fusion.</p>

<h2 id="setup">Setup</h2>

<p>For this tutorial I will be using the Windows XP VHD, which includes IE6 as standard. To begin you will need to download this image from <a href="http://www.microsoft.com/download/en/details.aspx?displaylang=en&amp;id=11575">Internet Explorer Application Compatibility VPC Image</a>.
Once successfully downloaded you will be able to extract the .EXE using a tool such as <a href="http://wakaba.c3.cx/s/apps/unarchiver.html">The Unarchiver</a>.
You will now have two files of which to work with:</p>

<ul>
  <li>Windows XP.vhd</li>
  <li>Windows XP.vmc</li>
</ul>

<p>We only care about the VHD, as the next step is to convert that image into a Virtual Machine Disk (VMDK) to support VMWare Fusion.
The easiest way I have researched into performing this task is to install <a href="http://www.kju-app.org/">Q</a> which internally includes a component called ‘qemu-img’ which works well.</p>

<p>Once you have installed Q, open up your Terminal and navigate to the folder which holds the VHD, once in there run the command below:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>/Applications/Q.app/Contents/MacOS/qemu-img convert <span class="nt">-O</span> vmdk <span class="nt">-f</span> vpc Windows XP.vhd Windows XP.vmdk
</code></pre></div></div>

<h2 id="installation">Installation</h2>

<p>Once your VHD has been successfully converted to a VMDK it is now time to open up VMWare Fusion and create a new virtual machine that uses the existing VMDK which we have created.
Upon first boot you will be greeted with many Filed Needed/Found New Hardware dialogs which you can safely cancel and close at this time.
Once you are at the desktop you can now install the VMware tools, which will provide the machine with the correct network adapter drivers for it to successfully reactivate itself.</p>

<p>Installing IE7 on the newly created Virtual Machine</p>

<p><img src="/uploads/ie6-ie7-ie8-meet-vmware-fusion/ie7.png" alt="IE7 Virtual Machine" /></p>

<p>You can now happily leave it here, and just create multiple copies of the VM to install the different versions of IE you wish to compatibility test to.
I personally like to use a method I picked up from this blog post ‘<a href="http://snook.ca/archives/other/vmware-fusion-snapshots">How I use VMWare Fusion and Snapshots</a>’.
Using this method you go through the process of making an initial snapshot of your Windows XP installation with IE6 installed, then install IE7 and snapshotting the VM state again, and lastly snapshotting the VM with IE8 on.
This method saves on disk space, and allows you to quickly switch between stable builds of each of the browsers you want to test on.</p>

<p>A tree view of all the snapshots that I created for testing use</p>

<p><img src="/uploads/ie6-ie7-ie8-meet-vmware-fusion/snapshots.png" alt="Virtual Machine Snapshots" /></p>

<p>As you can see from the screenshot above I am currently using the IE6 snapshot with the ability to quickly switch to another browsers configuration in a couple of clicks.
You will also notice that I have created a Firefox 3.6 snapshot, showing that this method does not only benefit IE testing but browser testing in general.</p>

<h2 id="update">Update</h2>

<p>As of early 2013 Microsoft has finally made available VirtualBox, VMWare Fusion and Parallels for Mac machine images (available <a href="http://www.modern.ie/en-us/virtualization-tools#downloads">here</a>), saving you having to go through this hassle.</p>

</article>

            </main>

            <footer class="footer">
                <img src="https://www.gravatar.com/avatar/c5c2978bb14d16460f73399c394b6acd?s=160">
                <ul>
                    <li>Developer at <a href="http://www.mybuilder.com/">MyBuilder</a></li>
                    <li><a href="http://threedevsandamaybe.com/">Three Devs and a Maybe</a> podcast co-host</li>
                    <li>All ramblings can be found in the <a href="/archive/">Archive</a></li>
                </ul>
                <div class="cf"></div>
            </footer>
        </div>
    </body>
</html>
