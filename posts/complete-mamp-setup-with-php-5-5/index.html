<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Complete MAMP Setup with PHP 5.5 - Edd Mann</title>
<meta name=description content="A comprehensive guide to setting up a complete MAMP environment with PHP 5.5, MySQL, and DNSMasq using Homebrew on macOS."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Complete MAMP Setup with PHP 5.5"><meta itemprop=description content="I have been a loyal MAMP Pro user for many years. I fell in love with how easy it was to set up custom hosts, without the need to tweak the hosts file myself. However, ever since I documented my experiences with DNSMasq, I have been interested in how this post documented setting up a web stack with Apache, similar to Ruby’s Pow. The ability to set up a new development site with only the creation of a new folder (i.e. a folder called test could be accessible at test.dev) appealed to me greatly."><meta itemprop=datePublished content="2012-07-08T00:00:00+00:00"><meta itemprop=dateModified content="2012-07-08T00:00:00+00:00"><meta itemprop=wordCount content="800"><meta itemprop=keywords content="Php,Mamp"><meta property="og:url" content="https://eddmann.com/posts/complete-mamp-setup-with-php-5-5/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Complete MAMP Setup with PHP 5.5"><meta property="og:description" content="I have been a loyal MAMP Pro user for many years. I fell in love with how easy it was to set up custom hosts, without the need to tweak the hosts file myself. However, ever since I documented my experiences with DNSMasq, I have been interested in how this post documented setting up a web stack with Apache, similar to Ruby’s Pow. The ability to set up a new development site with only the creation of a new folder (i.e. a folder called test could be accessible at test.dev) appealed to me greatly."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2012-07-08T00:00:00+00:00"><meta property="article:modified_time" content="2012-07-08T00:00:00+00:00"><meta property="article:tag" content="Php"><meta property="article:tag" content="Mamp"><meta name=twitter:card content="summary"><meta name=twitter:title content="Complete MAMP Setup with PHP 5.5"><meta name=twitter:description content="I have been a loyal MAMP Pro user for many years. I fell in love with how easy it was to set up custom hosts, without the need to tweak the hosts file myself. However, ever since I documented my experiences with DNSMasq, I have been interested in how this post documented setting up a web stack with Apache, similar to Ruby’s Pow. The ability to set up a new development site with only the creation of a new folder (i.e. a folder called test could be accessible at test.dev) appealed to me greatly."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.6b7f2bb661aac83aa99b773fd7544e8e2e4cc6f1117afae5fa2224c1a4618175.css integrity="sha256-a38rtmGqyDqpm3c/11ROji5MxvERevrl+iIkwaRhgXU="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/complete-mamp-setup-with-php-5-5/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.c886797fe1c76f3a5cace46b687d1d56b58c9e0df4f37c62bffbcda7eb40fce8.js integrity="sha256-yIZ5f+HHbzpcrORraH0dVrWMng3083xiv/vNp+tA/Og=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:complete-mamp-setup-with-php-5-5>Complete MAMP Setup with PHP 5.5</h1><time datetime=2012-07-08T00:00:00Z class=time>Jul 8, 2012</time></header><main class=u-prose><p>I have been a loyal <a href=http://www.mamp.info/en/mamp-pro/ rel="external noopener" target=_blank>MAMP Pro</a> user for many years.
I fell in love with how easy it was to set up custom hosts, without the need to tweak the hosts file myself.
However, ever since I documented my <a href=/posts/dnsmasq-your-local-development-dns/>experiences</a> with DNSMasq, I have been interested in how <a href=http://davidwinter.me/articles/2011/06/18/simple-local-web-development-with-apache-and-dnsmasq/ rel="external noopener" target=_blank>this</a> post documented setting up a web stack with Apache, similar to Ruby&rsquo;s <a href=http://pow.cx/ rel="external noopener" target=_blank>Pow</a>.
The ability to set up a new development site with only the creation of a new folder (i.e. a folder called test could be accessible at test.dev) appealed to me greatly.</p><p>Below is a step-by-step guide on how I set up my MAMP environment.
Full credit goes to the discussed approach; without it, a small part of my heart would never have been filled.</p><h2 id=apache-and-php>Apache and PHP</h2><p>The first piece of the puzzle is to set up Apache.
Luckily, Mac OSX (Lion or later) already comes pre-installed with an adequate Apache installation.
All we have to do is enable it.</p><p>To achieve this, we must first go to System Preferences, then Sharing, and finally check Web Sharing.</p><p>How easy was that?
The second piece is PHP, and again an installation is already provided with OSX Mavericks (version 5.4, to be exact).
All that is required is to load the PHP5 module into your Apache setup.
This can be achieved by uncommenting <code>LoadModule php5_module libexec/apache2/libphp5</code> in your <code>/etc/apache2/httpd.conf</code> file.</p><h2 id=fancy-some-php-55>Fancy some PHP 5.5?</h2><p>If you feel ultra-cool and want to use the latest and greatest from PHP - such as traits and yield - you can install PHP 5.5 using <a href=http://brew.sh/ rel="external noopener" target=_blank>Homebrew</a> following the below instructions:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ brew tap homebrew/dupes
</span></span><span style=display:flex><span>$ brew tap josegonzalez/homebrew-php
</span></span><span style=display:flex><span>$ brew options php55 <span style=color:#75715e># list available configuration options</span>
</span></span><span style=display:flex><span>$ brew install php55
</span></span></code></pre></div><p>To enable PHP 5.5 for use with Apache you need to replace the uncommented PHP module (from the last step) with <code>LoadModule php5_module /usr/local/Cellar/php55/5.5.6/libexec/apache2/libphp5.so</code>.</p><h2 id=mysql>MySQL</h2><p>To install MySQL I have decided to skip all the heavy lifting of compiling my own build and again let Homebrew do all the heavy lifting.
Run the following commands to successfully set up your own personal MySQL installation.
Remember to follow the instructions Homebrew provides you.
I personally also recommend that you run the optional secure installation script once complete (even if it is just a development setup).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ brew install mysql
</span></span><span style=display:flex><span>$ <span style=color:#75715e># The folder version may vary</span>
</span></span><span style=display:flex><span>$ /usr/local/Cellar/mysql/5.5.20/bin/mysql_secure_installation
</span></span></code></pre></div><p>We must then make Apache aware that MySQL now has set up shop on your system.
To do this, run the following commands.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ sudo mkdir /var/mysql
</span></span><span style=display:flex><span>$ sudo ln -s /tmp/mysql.sock /var/mysql/mysql.sock
</span></span></code></pre></div><p>Now we are ready to add DNSMasq into the mix.</p><h2 id=dnsmasq-and-the-magical-part>DNSMasq and the magical part</h2><p>Now that we have successfully set up our MAMP stack, it is time to add the magic sauce which makes this setup so much better.
I have already documented what DNSMasq is and how to set it up on a Linux distribution (Ubuntu) in a previous article, so I will just skip the introductions and install it.
To install DNSMasq on Mac OSX I have decided to follow a similar process to MySQL and let Homebrew do all the heavy lifting.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ brew install dnsmasq
</span></span></code></pre></div><p>Once successfully downloaded and installed, follow the on-screen instructions and copy the configuration file to <code>/usr/local/etc/dnsmasq.conf</code>.
Before continuing on to the second stage of installation, however, we need to tell DNSMasq (using the copied configuration file) that we want any address with a <a href=http://en.wikipedia.org/wiki/Top-level_domain rel="external noopener" target=_blank>TLD</a> of &lsquo;.dev&rsquo; to loop back to our own machine.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>address=/dev/127.0.0.1
</span></span><span style=display:flex><span>listen-address=127.0.0.1
</span></span></code></pre></div><p>We then need to add our loopback address (127.0.0.1) as the first DNS record to our primary network adapter.
We do this by going to System Preferences, then Network.
Once there, we click Advanced, and then DNS.
Finally, we can then add 127.0.0.1 as the first DNS record.</p><p>The last step is to set up the last development Apache Virtual Host you will hopefully ever have to look at.
Add the following Virtual Host information into your custom Apache configuration file, located at <code>/etc/apache2/users/[your-username].conf</code>.</p><pre tabindex=0><code class=language-conf data-lang=conf>NameVirtualHost *:80

&lt;Directory &#34;/Users/[your-username]/Sites/&#34;&gt;
  Options Indexes MultiViews FollowSymLinks Includes
  AllowOverride All
  Order allow,deny
  Allow from all
&lt;/Directory&gt;

&lt;VirtualHost *:80&gt;
  UseCanonicalName off
  VirtualDocumentRoot /Users/[your-username]/Sites/%1
&lt;/VirtualHost&gt;
</code></pre><p>All that is needed now is to simply restart Apache by using the following command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ sudo apachectl restart
</span></span></code></pre></div><p>You can now add a new folder to your <code>~/Sites</code> directory.
Without any additional work, visit the folder&rsquo;s name with the &lsquo;.dev&rsquo; TLD prepended in your browser of choice.</p><p>I have added a simple function to my dotfiles which cuts out even this labourious task.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>function</span> newsite<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  mkdir -p ~/Sites/$1
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;Hello, world...&#34;</span> &gt; ~/Sites/$1/index.html
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;&lt;?php phpinfo();&#34;</span> &gt; ~/Sites/$1/info.php
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Now that I have this set up, I cannot imagine a world without it.
All the tedious work required in setting up a new project has now vanished!</p></main><footer class=post__tags><a href=/archive/tag/php>php</a><a href=/archive/tag/mamp>mamp</a></footer></article><div class="related-posts u-prose"><h3>Related Posts</h3><ul><li><a href=/posts/phpass-the-go-to-password-hashing-library/>PHPass, the go-to password hashing library</a></li><li><a href=/posts/database-migrations-with-codeigniter/>Database Migrations with CodeIgniter</a></li></ul></div><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>