<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Solving the Advent of Code 2016 Day 3 puzzle using Python">

    <title>Advent of Code 2016 - Day 3 - Squares With Three Sides &middot; Edd Mann</title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles.css">

    <link rel="shortcut icon" href="/favicon.ico">

    <link rel="alternate" href="/rss.xml" title="" type="application/rss+xml">

    <script>
        var _gaq=[['_setAccount','UA-32512081-1'],['_setDomainName','eddmann.com'],['_trackPageview']];
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = 'https://ssl.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>

    <body>
        <div class="container content">
            <header class="masthead">
                <h3 class="masthead-title">
                    <a href="/" title="Home">Edd Mann</a>
                    <small><i class="fa fa-code"></i> Developer</small>
                </h3>
                <nav>
                    <a href="https://twitter.com/edd_mann"><i class="fa fa-twitter"></i></a>
                    <a href="https://github.com/eddmann"><i class="fa fa-github"></i></a>
                    <a href="mailto:the@eddmann.com"><i class="fa fa-envelope"></i></a>
                </nav>
                <div class="cf"></div>
            </header>

            <main>
                <article class="post">
    <h1 class="post-title">Advent of Code 2016 - Day 3 - Squares With Three Sides</h1>
    <time datetime="2021-03-25T00:00:00-05:00" class="post-date">25 Mar 2021</time>
    <p>On the third day of Advent of Code 2016 we are asked to work out how many valid triangles are present in a given listing.</p>



<h3 id="part-1">Part 1</h3>

<p>Our input consists of a listing of triplets, of which we are initially asked to tally how many triplets are valid triangles.
We begin by parsing the input, ensuring that all triplets have been parsed into integer form.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">parse_triplets</span><span class="p">(</span><span class="nb">input</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[[</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">line</span><span class="p">.</span><span class="n">split</span><span class="p">()]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">input</span><span class="p">.</span><span class="n">splitlines</span><span class="p">()]</span>
</code></pre></div></div>

<p>From here, we now can discern how to identify a valid triangle.
This can be achieved by validating that the sum of any two sides must be larger than the remaining side.
We can simplify any conditional logic required by sorting the triplet values first and then checking that the two smallest values are greater than the largest value.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">is_triangle</span><span class="p">(</span><span class="n">triplet</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">triplet</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="n">c</span>
</code></pre></div></div>

<p>To answer part one we can combine these two functions using list comprehension, and sum up the <code class="highlighter-rouge">True</code> values ðŸŒŸ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">part1</span><span class="p">(</span><span class="nb">input</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">is_triangle</span><span class="p">(</span><span class="n">triplet</span><span class="p">)</span> <span class="k">for</span> <span class="n">triplet</span> <span class="ow">in</span> <span class="n">parse_triplets</span><span class="p">(</span><span class="nb">input</span><span class="p">))</span>
</code></pre></div></div>

<h3 id="part-2">Part 2</h3>

<p>For part two, we are now instead required to interpret the input in a different form.
Triplets are now grouped based on transposing (flipping the rows and columns) the listing.</p>

<p>So as to complete this task we will need a means to split up a flat listing into triplets.
Combining <code class="highlighter-rouge">range</code>, list slicing and subsequently yielding each <em>chunk</em> is a very succinct means to achieve this result.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">chunks</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">),</span> <span class="n">n</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="n">n</span><span class="p">]</span>
</code></pre></div></div>

<p>With this new function available we can transpose the parsed triplets (using <code class="highlighter-rouge">zip</code>) and <em>flatten</em> each available column triplet chunks.
This leaves us with a single-level listing (the same form as our input) of which we can validate if the triplets are indeed triangles.
In a similiar mannor to part one we can sum up the <code class="highlighter-rouge">True</code> values and return the desired answer ðŸŒŸ.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">part2</span><span class="p">(</span><span class="nb">input</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">is_triangle</span><span class="p">(</span><span class="n">triplet</span><span class="p">)</span>
               <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">parse_triplets</span><span class="p">(</span><span class="nb">input</span><span class="p">))</span>
               <span class="k">for</span> <span class="n">triplet</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</code></pre></div></div>

</article>

            </main>

            <footer class="footer">
                <img src="https://www.gravatar.com/avatar/c5c2978bb14d16460f73399c394b6acd?s=160">
                <ul>
                    <li>Developer at <a href="http://www.mybuilder.com/">MyBuilder</a></li>
                    <li><a href="http://threedevsandamaybe.com/">Three Devs and a Maybe</a> podcast co-host</li>
                    <li>All ramblings can be found in the <a href="/archive/">Archive</a></li>
                </ul>
                <div class="cf"></div>
            </footer>
        </div>
    </body>
</html>
