<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Advent of Code 2015 - Day 25 - Let It Snow - Edd Mann</title>
<meta name=description content="Solving the Advent of Code 2015 Day 25 puzzle using TypeScript."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Advent of Code 2015 - Day 25 - Let It Snow"><meta itemprop=description content="On the twenty-fifth day of Advent of Code 2015, we are asked to help Santa boot up his weather machine."><meta itemprop=datePublished content="2021-02-20T00:00:00+00:00"><meta itemprop=dateModified content="2021-02-20T00:00:00+00:00"><meta itemprop=wordCount content="386"><meta itemprop=keywords content="Advent-of-Code,Advent-of-Code-2015,Typescript"><meta property="og:url" content="https://eddmann.com/posts/advent-of-code-2015-day-25-let-it-snow/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Advent of Code 2015 - Day 25 - Let It Snow"><meta property="og:description" content="On the twenty-fifth day of Advent of Code 2015, we are asked to help Santa boot up his weather machine."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-20T00:00:00+00:00"><meta property="article:modified_time" content="2021-02-20T00:00:00+00:00"><meta property="article:tag" content="Advent-of-Code"><meta property="article:tag" content="Advent-of-Code-2015"><meta property="article:tag" content="Typescript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Advent of Code 2015 - Day 25 - Let It Snow"><meta name=twitter:description content="On the twenty-fifth day of Advent of Code 2015, we are asked to help Santa boot up his weather machine."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.6c18b9cbfe138a24784e64860eaa9d70076170f03c68d8be3b3f1ae99e51df9f.css integrity="sha256-bBi5y/4TiiR4TmSGDqqdcAdhcPA8aNi+Oz8a6Z5R358="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/advent-of-code-2015-day-25-let-it-snow/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1>Advent of Code 2015 - Day 25 - Let It Snow</h1><time class=post__time>Feb 20, 2021</time></header><main class=prose><p>On the twenty-fifth day of Advent of Code 2015, we are asked to help Santa boot up his weather machine.</p><h2 id=part-1>Part 1</h2><p>The weather machine requires a <em>code</em> to be entered for copy protection purposes.
As the manual has been misplaced, we are required to determine what this code will be based on the rules laid out in the <a href=https://adventofcode.com/2015/day/25 rel="external noopener" target=_blank>problem definition</a>.</p><p>The problem outlined first centres around calculating a <a href=https://en.wikipedia.org/wiki/Triangular_number rel="external noopener" target=_blank>Triangle number</a> and then, with this value, using <a href=https://en.wikipedia.org/wiki/Modular_exponentiation rel="external noopener" target=_blank>Modular exponentiation</a> to return the desired code.
We will begin by building the functionality to determine what the given row/column triangle number will be in the table.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>calcTriangleNumberAt</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>row</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>col</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>side</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>row</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>col</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>side</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>side</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>row</span>;
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>The value we are looking for is on the hypotenuse of an isosceles right-angled triangle.
We begin by working out what the length of the side is.
From here, we then calculate how many numbers are in that triangle.
Based on this value, we can then return the resulting number.</p><p>Now that we have the <em>exponent</em> value required, we can move on to building the functionality to calculate the code itself.
We use <em>Modular exponentiation</em> to solve this, which is used regularly within public-key cryptography.
As JavaScript does not have this functionality built-in, we are required to write our own implementation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>expMod</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>base</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>exp</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>mod</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>exp</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>exp</span> <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> Math.<span style=color:#a6e22e>pow</span>(<span style=color:#a6e22e>expMod</span>(<span style=color:#a6e22e>base</span>, <span style=color:#a6e22e>exp</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>mod</span>), <span style=color:#ae81ff>2</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>mod</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>base</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>expMod</span>(<span style=color:#a6e22e>base</span>, <span style=color:#a6e22e>exp</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>mod</span>)) <span style=color:#f92672>%</span> <span style=color:#a6e22e>mod</span>;
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>With these two functions available to us, we can parse the provided row and column input and calculate the desired answer ðŸŒŸ.
Note that based on our resulting modular exponentiation, we must multiply this by the first code supplied before returning it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part1</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/(\d+)/g</span>).<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>toInt</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>firstCode</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>20151125</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>base</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>252533</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>exp</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>calcTriangleNumberAt</span>(<span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mod</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>33554393</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>expMod</span>(<span style=color:#a6e22e>base</span>, <span style=color:#a6e22e>exp</span>, <span style=color:#a6e22e>mod</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>firstCode</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>mod</span>;
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h2 id=part-2>Part 2</h2><p>For part two&mldr; there is nothing more to do.
We can give ourselves a pat on the back as we have helped save Christmas! ðŸŽ‰</p></main><footer class=post__tags><a href=/archive/tag/advent-of-code>advent-of-code</a><a href=/archive/tag/advent-of-code-2015>advent-of-code-2015</a><a href=/archive/tag/typescript>typescript</a></footer></article></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;const s=window.pageYOffset;window.requestAnimationFrame(()=>{n.classList.toggle("is-sticky",t>s),t=s,e=!1}),e=!0})})()</script></body></html>