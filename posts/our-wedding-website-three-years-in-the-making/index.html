<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Our Wedding Website, Three Years in the Making... - Edd Mann</title>
<meta name=description content="Because every wedding RSVP website needs to follow DDD, CQRS, Hexagonal Architecture, Event Sourcing, and be deployed on AWS Lambda."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Our Wedding Website, Three Years in the Making..."><meta itemprop=description content="Like many developers, over-engineering personal projects in the spirit of learning is something I am well aware of doing. So, when it came time to decide how we were going to collect RSVPs for our upcoming wedding, I already had ideas. What resulted was a solution that follows DDD, CQRS, Hexagonal Architecture, Event Sourcing, and is deployed on AWS Lambda using PHP."><meta itemprop=datePublished content="2022-01-28T00:00:00+00:00"><meta itemprop=dateModified content="2022-01-28T00:00:00+00:00"><meta itemprop=wordCount content="1056"><meta itemprop=keywords content="Php,Serverless,Ddd,Event-Sourcing"><meta property="og:url" content="https://eddmann.com/posts/our-wedding-website-three-years-in-the-making/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Our Wedding Website, Three Years in the Making..."><meta property="og:description" content="Like many developers, over-engineering personal projects in the spirit of learning is something I am well aware of doing. So, when it came time to decide how we were going to collect RSVPs for our upcoming wedding, I already had ideas. What resulted was a solution that follows DDD, CQRS, Hexagonal Architecture, Event Sourcing, and is deployed on AWS Lambda using PHP."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-28T00:00:00+00:00"><meta property="article:modified_time" content="2022-01-28T00:00:00+00:00"><meta property="article:tag" content="Php"><meta property="article:tag" content="Serverless"><meta property="article:tag" content="Ddd"><meta property="article:tag" content="Event-Sourcing"><meta name=twitter:card content="summary"><meta name=twitter:title content="Our Wedding Website, Three Years in the Making..."><meta name=twitter:description content="Like many developers, over-engineering personal projects in the spirit of learning is something I am well aware of doing. So, when it came time to decide how we were going to collect RSVPs for our upcoming wedding, I already had ideas. What resulted was a solution that follows DDD, CQRS, Hexagonal Architecture, Event Sourcing, and is deployed on AWS Lambda using PHP."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.0121a173d3063b9541f1f561a87125fd59dc1fac6110b21c15bba8bc141b70b1.css integrity="sha256-ASGhc9MGO5VB8fVhqHEl/VncH6xhELIcFbuovBQbcLE="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/our-wedding-website-three-years-in-the-making/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1>Our Wedding Website, Three Years in the Making...</h1><time class=post__time>Jan 28, 2022</time></header><main class=prose><p>Like many developers, over-engineering personal projects in the spirit of learning is something I am well aware of doing.
So, when it came time to decide how we were going to collect RSVPs for our upcoming wedding, I already had ideas.
What resulted was a solution that follows DDD, CQRS, Hexagonal Architecture, Event Sourcing, and is deployed on AWS Lambda using PHP.</p><p><picture><source type=image/webp srcset=/posts/our-wedding-website-three-years-in-the-making/our-wedding-website-1_hu_60008b74cf06316e.webp><source type=image/jpeg srcset=/posts/our-wedding-website-three-years-in-the-making/our-wedding-website-1_hu_7ee27af8027c27a2.jpg><img src=/posts/our-wedding-website-three-years-in-the-making/our-wedding-website-1_hu_7ee27af8027c27a2.jpg alt loading=lazy></picture></p><h2 id=how-we-got-here>How We Got Here&mldr;</h2><p>The initial idea was formed back in late 2019, where I had been very interested in exploring new concepts (DDD, ES, CQRS) and tooling (Containerisation) within a single project.
Based on some great resources (<a href=https://eventsourcery.com/ rel="external noopener" target=_blank>EventSourcery</a> in particular), I was able to architect a system that followed DDD principles, applying ES and CQRS, based on PHP, PostgreSQL, and Symfony.
Furthermore, the original system was deployed within a Kubernetes environment (with a <a href=https://github.com/eddmann/aws-k8s-cluster-terraform rel="external noopener" target=_blank>small dose</a> of Terraform), with images being packaged and shipped within a GitLab CI pipeline.
With everything in place, the website went live, and the invites were sent out&mldr; then COVID happened.
Due to the pandemic, we opted to delay our wedding date (several times), finally settling on this upcoming summer ðŸ¤ž.
This meant that the original system would lay dormant for almost several years!</p><p>During the past several years, however, much has happened - one of the biggest being the opportunity to develop a <a href=https://mybuilder-plus.com/ rel="external noopener" target=_blank>brand-new insurance product</a> at MyBuilder.
Due to the nature of the business and coupled with a rich domain to model, we decided to apply DDD and ES.
It was throughout this time that I was able to take ideas and tooling initially formed within this wedding website and gain experience applying them at a large production level.
Another interesting piece to the puzzle was that we were targeting deployment to AWS Lambda, making heavy use of Terraform in the process.</p><h2 id=the-now>The Now</h2><p>Fast-forward to late 2021, we were now at a stage where we could finally send out new invites, and this meant dusting off the old website!
Again, like many developers, I could not simply deploy a personal project that I had written almost two years prior.
Instead, with the experience I had now garnered by applying these concepts and tooling in a production setting, I was able to rewrite the website and infrastructure from the ground up.
A significant change was the transition to deploying to AWS Lambda and harnessing many different AWS services in the process.
At MyBuilder, we had great joy in using Terraform Cloud to handle provisioning our infrastructure, and this was now reflected in the revised implementation.</p><p>Throughout the past several years, I have found it useful to reference a bare-bones implementation of the concepts and tooling put in place by way of the wedding website when experimenting and onboarding new people to related projects at MyBuilder.
I never did open-source the code for the original website, but I felt that it would be great to have an accessible, documented reference implementation of the learnings I have gained.
As such, I settled on initially publishing an overview of the project (what you are reading now) and the two repositories that make up the system.
The two repositories include relevant READMEs surrounding core concepts and principles applied, with accompanying diagrams that help explain key elements.</p><h2 id=the-application>The Application</h2><p><a href=https://github.com/eddmann/our-wedding-website rel="external noopener" target=_blank><picture><source type=image/webp srcset=/posts/our-wedding-website-three-years-in-the-making/our-wedding-website-2_hu_1bd2a5eead1fabf7.webp><source type=image/jpeg srcset=/posts/our-wedding-website-three-years-in-the-making/our-wedding-website-2_hu_6a8ede697e41df02.jpg><img src=/posts/our-wedding-website-three-years-in-the-making/our-wedding-website-2_hu_6a8ede697e41df02.jpg alt loading=lazy></picture></a></p><p>The <a href=https://github.com/eddmann/our-wedding-website rel="external noopener" target=_blank>application</a> itself models a basic domain that handles returning RSVPs for wedding invitations sent out.
It includes the ability to log in (via a supplied invite code) and select attendance/food choices based on whether you are a day or evening guest.
Furthermore, there is an admin backend that allows us to review guest responses, and email notifications are sent out when an invite has been submitted.
There is just enough complexity (although a CRUD system would have probably sufficed ðŸ˜¬) within this desired behaviour to demonstrate all the concepts and principles put in place.</p><p>The system applies Event Sourcing to persist (and project) application state, with the domain modelled following Domain-Driven Design principles.
The application conforms to the Hexagonal Architecture (Domain, Application, Infrastructure, and UI layering), with interaction with the Domain being constrained to CQRS.
There are three distinct message buses: one for dispatching Commands, one for emitting Aggregate Events, and another for emitting Domain Events.</p><p>From an implementation point of view, the application is built using PHP 8.1, Symfony 5.4, and associated Symfony components (Symfony Messenger, Webpack Encore, etc.).
It uses Deptrac to ensure adherence to the strict Hexagonal architectural layering boundaries imposed, Psalm to provide static type-checking support, and PHPUnit to validate the desired behaviour has been implemented.
The testing strategy employed has been documented within the <a href=https://github.com/eddmann/our-wedding-website#testing rel="external noopener" target=_blank>project&rsquo;s README</a> and closely resembles the layering employed within the application itself.</p><h2 id=the-infrastructure>The Infrastructure</h2><p><a href=https://github.com/eddmann/our-wedding-infra rel="external noopener" target=_blank><picture><source type=image/webp srcset=/posts/our-wedding-website-three-years-in-the-making/our-wedding-infra_hu_f17d32e18c5863d1.webp><source type=image/jpeg srcset=/posts/our-wedding-website-three-years-in-the-making/our-wedding-infra_hu_b035b68255e72133.jpg><img src=/posts/our-wedding-website-three-years-in-the-making/our-wedding-infra_hu_b035b68255e72133.jpg alt loading=lazy></picture></a></p><p>From an <a href=https://github.com/eddmann/our-wedding-infra rel="external noopener" target=_blank>infrastructure</a> perspective, the service is provisioned using a combination of Terraform (Cloud) and Serverless Framework, targeting AWS as the cloud provider.
The application is hosted on AWS Lambda, with transient infrastructure (which changes based on each deployment), such as functions/API gateways, being provisioned at the application repository level using the Serverless Framework.
Foundational infrastructure concerns (such as networking, databases, queues, etc.) are provisioned using Terraform within the infrastructure repository, with a separation between stage environment and shared concerns.</p><p>Sharing between Terraform and Serverless Framework is unidirectional, with the application resources that Serverless Framework creates being built upon the foundation that Terraform resources provision.
Parameters, secrets, and shared resources controlled by Terraform are accessible to this application via SSM parameters and Secrets Manager secrets, providing clear responsibility separation.</p><p>Local development is managed by Docker, with a Makefile used to help coordinate common tasks.
The general philosophy employed is that there should be parity between actions carried out within CI (now using GitHub Actions) and local development.
This can be seen by reviewing the <a href=https://github.com/eddmann/our-wedding-website/blob/main/.github/workflows/test.yml rel="external noopener" target=_blank>test CI workflow</a>, which delegates to the <code>can-publish</code> Makefile target to assert correctness; the same action can be taken within local development without any changes.
In doing this, consistency is maintained and eliminates any surprises that could occur when merging changes into the service.</p><h2 id=whats-next>What&rsquo;s Next</h2><p>With the project now released, I hope that, in time to come, I will have the opportunity to deep dive and write about specific design and tooling aspects related to the system further.
Until then, however, if you want to find out more, be sure to check out the <a href=https://github.com/eddmann/our-wedding-website rel="external noopener" target=_blank>two</a> <a href=https://github.com/eddmann/our-wedding-infra rel="external noopener" target=_blank>repositories</a>, along with accompanying READMEs that provide more detail.</p></main><footer class=post__tags><a href=/archive/tag/php>php</a><a href=/archive/tag/serverless>serverless</a><a href=/archive/tag/ddd>ddd</a><a href=/archive/tag/event-sourcing>event-sourcing</a></footer></article></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;const s=window.pageYOffset;window.requestAnimationFrame(()=>{n.classList.toggle("is-sticky",t>s),t=s,e=!1}),e=!0})})()</script></body></html>