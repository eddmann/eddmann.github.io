<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Determining if an IPv4 address is within a CIDR range in JavaScript - Edd Mann</title>
<meta name=description content="A comprehensive guide on determining if an IPv4 address lies within a CIDR range in JavaScript, featuring code examples and detailed explanations."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Determining if an IPv4 address is within a CIDR range in JavaScript"><meta itemprop=description content="Recently I was required to process a group of CIDR ranges in JavaScript to determine if a given IPv4 address fell within one of them. In this post I would like to discuss how I went about completing this."><meta itemprop=datePublished content="2018-06-05T00:00:00+00:00"><meta itemprop=dateModified content="2018-06-05T00:00:00+00:00"><meta itemprop=wordCount content="543"><meta itemprop=keywords content="Javascript"><meta property="og:url" content="https://eddmann.com/posts/determining-if-an-ipv4-address-is-within-a-cidr-range-in-javascript/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Determining if an IPv4 address is within a CIDR range in JavaScript"><meta property="og:description" content="Recently I was required to process a group of CIDR ranges in JavaScript to determine if a given IPv4 address fell within one of them. In this post I would like to discuss how I went about completing this."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-06-05T00:00:00+00:00"><meta property="article:modified_time" content="2018-06-05T00:00:00+00:00"><meta property="article:tag" content="Javascript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Determining if an IPv4 address is within a CIDR range in JavaScript"><meta name=twitter:description content="Recently I was required to process a group of CIDR ranges in JavaScript to determine if a given IPv4 address fell within one of them. In this post I would like to discuss how I went about completing this."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.4c8b66c005db4efc68625e4ceed190f2dc110d342d05ffb19ba924cc13c3ef15.css integrity="sha256-TItmwAXbTvxoYl5M7tGQ8twRDTQtBf+xm6kkzBPD7xU="><link rel=preload as=image href=/assets/x.svg crossorigin=anonymous><link rel=preload as=image href=/assets/github.svg crossorigin=anonymous><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/determining-if-an-ipv4-address-is-within-a-cidr-range-in-javascript/><script>document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")</script><script src=/script.min.da71ac9c7b8bd4e644618df0ab735aed1393aad3cb5e5c57e5adc300fe7c8209.js integrity="sha256-2nGsnHuL1OZEYY3wq3Na7ROTqtPLXlxX5a3DAP58ggk=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li><li><a href=/cv.html>CV</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:determining-if-an-ipv4-address-is-within-a-cidr-range-in-javascript>Determining if an IPv4 address is within a CIDR range in JavaScript</h1><time datetime=2018-06-05T00:00:00Z class=published-at>Jun 5, 2018</time></header><main class=u-prose><p>Recently I was required to process a group of <a href=https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing rel="external noopener" target=_blank>CIDR</a> ranges in JavaScript to determine if a given IPv4 address fell within one of them.
In this post I would like to discuss how I went about completing this.</p><h2 id=what-is-cidr-notation>What is CIDR notation?</h2><p>CIDR stands for <code>Classless Inter-Domain Routing</code>, and is a replacement for the historic <a href=https://en.wikipedia.org/wiki/Classful_network rel="external noopener" target=_blank>class-based</a> system.
This approach allows for more efficient use of the IPv4 address space, reducing the size of routing tables in the process.
Every IPv4 address consists of two parts - one to identify the network and the other to identify the host on that network.
A CIDR address contains the typical 32-bit IPv4 address, along with information on how many bits are used for the network prefix (by way of Variable Length Subnet Masking).
Unlike classful networks, any number of contiguous bits can be assigned to identify the network, allowing for more fine-grained IPv4 allocation.
Due to these advantages, you will see this commonly used within networking platforms such as <a href=https://aws.amazon.com/vpc/ rel="external noopener" target=_blank>Amazon Virtual Private Cloud</a> and <a href=https://aws.amazon.com/waf/ rel="external noopener" target=_blank>AWS Web Application Firewall</a>.</p><h2 id=matching-cidrs>Matching CIDRs</h2><p>Now that we have had a refresher on what CIDR notation actually is, we can go about implementing the solution to the initial problem laid out.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ip4ToInt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ip</span> =&gt; <span style=color:#a6e22e>ip</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;.&#39;</span>).<span style=color:#a6e22e>reduce</span>((<span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>oct</span>) =&gt; (<span style=color:#66d9ef>int</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>8</span>) <span style=color:#f92672>+</span> parseInt(<span style=color:#a6e22e>oct</span>, <span style=color:#ae81ff>10</span>), <span style=color:#ae81ff>0</span>) <span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isIp4InCidr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ip</span> =&gt; <span style=color:#a6e22e>cidr</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>range</span>, <span style=color:#a6e22e>bits</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>32</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>cidr</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;/&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mask</span> <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>(<span style=color:#ae81ff>2</span> <span style=color:#f92672>**</span> (<span style=color:#ae81ff>32</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>bits</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>ip4ToInt</span>(<span style=color:#a6e22e>ip</span>) <span style=color:#f92672>&amp;</span> <span style=color:#a6e22e>mask</span>) <span style=color:#f92672>===</span> (<span style=color:#a6e22e>ip4ToInt</span>(<span style=color:#a6e22e>range</span>) <span style=color:#f92672>&amp;</span> <span style=color:#a6e22e>mask</span>);
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isIp4InCidrs</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>ip</span>, <span style=color:#a6e22e>cidrs</span>) =&gt; <span style=color:#a6e22e>cidrs</span>.<span style=color:#a6e22e>some</span>(<span style=color:#a6e22e>isIp4InCidr</span>(<span style=color:#a6e22e>ip</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>isIp4InCidrs</span>(<span style=color:#e6db74>&#39;192.168.1.5&#39;</span>, [<span style=color:#e6db74>&#39;10.10.0.0/16&#39;</span>, <span style=color:#e6db74>&#39;192.168.1.1/24&#39;</span>]); <span style=color:#75715e>// true
</span></span></span></code></pre></div><p>As you can see the problem has been broken up into three distinct parts.
The first of which is converting the given IPv4 address into its integer equivalent, which is achieved by adding each <a href=https://en.wikipedia.org/wiki/Octet_%28computing%29 rel="external noopener" target=_blank>octet</a> together.
With this at our disposal we are then able to verify a single IPv4 and CIDR combination.
At this stage the CIDR is parsed to produce the given mask, which is then used along with the integer function to validate if the IPv4 address falls within the range outlined.
This function is curried so that it can be partially applied in the following step.
Finally, we are able to check many CIDRs by using this partially applied function, checking if at least one match is present.</p><h2 id=determining-cidr-ranges>Determining CIDR ranges</h2><p>It can also be useful to determine the start and end of a given CIDR range.
Using a similar approach to how we tackled the initial problem, we can use the mask again to produce the minimum and maximum IPv4 addresses.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>intToIp4</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>int</span> =&gt;
</span></span><span style=display:flex><span>  [(<span style=color:#66d9ef>int</span> <span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#ae81ff>24</span>) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xff</span>, (<span style=color:#66d9ef>int</span> <span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#ae81ff>16</span>) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xff</span>, (<span style=color:#66d9ef>int</span> <span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#ae81ff>8</span>) <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xff</span>, <span style=color:#66d9ef>int</span> <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>0xff</span>].<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;.&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>calculateCidrRange</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cidr</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>range</span>, <span style=color:#a6e22e>bits</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>32</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>cidr</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;/&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mask</span> <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>(<span style=color:#ae81ff>2</span> <span style=color:#f92672>**</span> (<span style=color:#ae81ff>32</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>bits</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>intToIp4</span>(<span style=color:#a6e22e>ip4ToInt</span>(<span style=color:#a6e22e>range</span>) <span style=color:#f92672>&amp;</span> <span style=color:#a6e22e>mask</span>), <span style=color:#a6e22e>intToIp4</span>(<span style=color:#a6e22e>ip4ToInt</span>(<span style=color:#a6e22e>range</span>) <span style=color:#f92672>|</span> <span style=color:#f92672>~</span><span style=color:#a6e22e>mask</span>)];
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>calculateCidrRange</span>(<span style=color:#e6db74>&#39;192.168.1.0/24&#39;</span>); <span style=color:#75715e>// [&#34;192.168.1.0&#34;, &#34;192.168.1.255&#34;]
</span></span></span></code></pre></div><p>During development it proved useful to investigate what the internal binary representation of the given IPv4 addresses and masks were.
This was achieved using another small function which converted the integer to a binary string output.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>intToBin</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>int</span> =&gt;
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>int</span> <span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>toString</span>(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>padStart</span>(<span style=color:#ae81ff>32</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/.{1,8}/g</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;.&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>intToBin</span>(<span style=color:#a6e22e>ip4ToInt</span>(<span style=color:#e6db74>&#39;192.168.1.1&#39;</span>)); <span style=color:#75715e>// 11000000.10101000.00000001.00000001
</span></span></span></code></pre></div></main><footer class=post-footer><ul class="tags tags--large"><li><a href=/archive/tag/javascript>javascript</a></li></ul><div class=related><h3 class=related__title>Related Posts</h3><ul class=related__posts><li><a href=/posts/creating-a-winning-audio-lambda-service-using-serverless-polly-and-compiled-sox/>Creating a 'Winning' Audio Lambda Service using Serverless, Polly and compiled SOX</a></li><li><a href=/posts/memes-as-a-service-using-lambda-serverless-and-imagemagick/>'Memes as a Service' using Lambda, Serverless and ImageMagick</a></li><li><a href=/posts/bitcoin-internals-verifying-merkle-roots-using-merkle-proofs-in-javascript/>Bitcoin Internals: Verifying Merkle Roots using Merkle Proofs in JavaScript</a></li><li><a href=/posts/bitcoin-internals-how-blocks-use-merkle-trees-in-javascript/>Bitcoin Internals: How Blocks use Merkle Trees in JavaScript</a></li><li><a href=/posts/handling-retries-and-back-off-attempts-with-javascript-promises/>Handling Retries and Back-off Attempts with JavaScript Promises</a></li></ul></div></footer></article><div class="podcast-ad u-overlay-wrapper"><div class=podcast-ad__artwork><img src=https://compiledconversations.com/album-art.jpg alt="Compiled Conversations podcast album art" class=podcast-ad__artwork-image></div><div class=podcast-ad__content><h3 class=podcast-ad__title>Compiled Conversations</h3><p class=podcast-ad__description>Podcast I host, featuring conversations with the people shaping software and technology.</p><div class=podcast-ad__link>Check out the show</a></div><a class=u-overlay href=https://compiledconversations.com target=_blank>Listen to Compiled Conversations</a></div><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2026, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>