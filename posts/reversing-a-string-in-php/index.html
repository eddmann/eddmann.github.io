<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Reversing a String in PHP - Edd Mann</title>
<meta name=description content="Explore innovative methods to reverse strings in PHP, from basic built-in functions to advanced recursive and Unicode-support techniques."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Reversing a String in PHP"><meta itemprop=description content="Since recently setting up a forum for Three Devs and a Maybe, we have started to partake in a weekly code-kata. What could be more fitting to start with than the common interview question, reversing a string in a given language. In this case the language is PHP, and below are some of the many ways contrived to solve the problem."><meta itemprop=datePublished content="2014-05-10T00:00:00+00:00"><meta itemprop=dateModified content="2014-05-10T00:00:00+00:00"><meta itemprop=wordCount content="585"><meta itemprop=keywords content="Php"><meta property="og:url" content="https://eddmann.com/posts/reversing-a-string-in-php/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Reversing a String in PHP"><meta property="og:description" content="Since recently setting up a forum for Three Devs and a Maybe, we have started to partake in a weekly code-kata. What could be more fitting to start with than the common interview question, reversing a string in a given language. In this case the language is PHP, and below are some of the many ways contrived to solve the problem."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-05-10T00:00:00+00:00"><meta property="article:modified_time" content="2014-05-10T00:00:00+00:00"><meta property="article:tag" content="Php"><meta name=twitter:card content="summary"><meta name=twitter:title content="Reversing a String in PHP"><meta name=twitter:description content="Since recently setting up a forum for Three Devs and a Maybe, we have started to partake in a weekly code-kata. What could be more fitting to start with than the common interview question, reversing a string in a given language. In this case the language is PHP, and below are some of the many ways contrived to solve the problem."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.6b5d0ef6e3fcc342a7b1bb186a93637ef078dec14a4a0fe2665258ada27fdc79.css integrity="sha256-a10O9uP8w0KnsbsYapNjfvB43sFKSg/iZlJYraJ/3Hk="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/reversing-a-string-in-php/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1 class=transition-between-pages style=--id:reversing-a-string-in-php>Reversing a String in PHP</h1><time class=post__time>May 10, 2014</time></header><main class=prose><p>Since recently setting up a forum for <a href=http://forum.threedevsandamaybe.com/ rel="external noopener" target=_blank>Three Devs and a Maybe</a>, we have started to partake in a weekly <a href=http://en.wikipedia.org/wiki/Kata_%28programming%29 rel="external noopener" target=_blank>code-kata</a>.
What could be more fitting to start with than the common interview question, reversing a string in a given language.
In this case the language is PHP, and below are some of the many ways contrived to solve the problem.</p><h2 id=basic-implementations>Basic Implementations</h2><p>The implementation below is the simplest, as it takes advantage of PHP&rsquo;s extensive built-in functions to reverse the supplied string.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strrev</span>($str);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Similarly, we can compose a <code>reverse</code> function by joining (alias for <a href=http://php.net/function.join rel="external noopener" target=_blank><code>implode</code></a>) a reversed array of the string characters.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#a6e22e>array_reverse</span>(<span style=color:#a6e22e>str_split</span>($str)));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The most imperative approach to reverse a string is by looping over each character with indexes at each end, swapping their contents upon each iteration.
PHP&rsquo;s ability to access individual characters in an array-like manner turns out to be very useful in this case.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> ($i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, $j <span style=color:#f92672>=</span> <span style=color:#a6e22e>strlen</span>($str) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; $i <span style=color:#f92672>&lt;</span> $j; $i<span style=color:#f92672>++</span>, $j<span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>        $tmp <span style=color:#f92672>=</span> $str[$i];
</span></span><span style=display:flex><span>        $str[$i] <span style=color:#f92672>=</span> $str[$j];
</span></span><span style=display:flex><span>        $str[$j] <span style=color:#f92672>=</span> $tmp;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $str;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Although not best practice, the desired result can be compacted into a single <code>for</code> loop declaration, as shown below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> ($i <span style=color:#f92672>=</span> <span style=color:#a6e22e>strlen</span>($str) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, $out <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>; $i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; $out <span style=color:#f92672>.=</span> $str[$i<span style=color:#f92672>--</span>]) {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $out;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Another impractical approach using the <code>array_walk</code> function can be found below.
An interesting implementation detail is that a copy of <code>$out</code> is being passed into the closure function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>list</span>($out, $len) <span style=color:#f92672>=</span> [ <span style=color:#a6e22e>str_split</span>($str), <span style=color:#a6e22e>strlen</span>($str) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>array_walk</span>($out, <span style=color:#66d9ef>function</span>(<span style=color:#f92672>&amp;</span>$ele, $idx) <span style=color:#66d9ef>use</span> ($out, $len) <span style=color:#75715e>// copy, not ref.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    {
</span></span><span style=display:flex><span>        $ele <span style=color:#f92672>=</span> $out[$len <span style=color:#f92672>-</span> $idx];
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>, $out);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=recursive-implementations>Recursive Implementations</h2><p>The second group of implementations employs recursion to achieve the desired result.
The first of these methods is a simple recursive invocation of the function, removing the head character upon each call.
Once the string has reached one character, the base case has been hit and the remaining string is simply returned.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>strlen</span>($str) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $str;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>reverse</span>(<span style=color:#a6e22e>substr</span>($str, <span style=color:#ae81ff>1</span>)) <span style=color:#f92672>.</span> $str[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The implementation below takes advantage of the <a href=http://en.wikipedia.org/wiki/Divide_and_conquer_algorithm rel="external noopener" target=_blank>divide and conquer</a> algorithm paradigm, flipping the left and right substrings upon each recursive invocation.
Similar to the previous example, if the base case of a single character string is met, the remaining string is simply returned.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>strlen</span>($str) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $str;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    $mid <span style=color:#f92672>=</span> (<span style=color:#a6e22e>int</span>) <span style=color:#a6e22e>strlen</span>($str) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    $lft <span style=color:#f92672>=</span> <span style=color:#a6e22e>substr</span>($str, <span style=color:#ae81ff>0</span>, $mid);
</span></span><span style=display:flex><span>    $rgt <span style=color:#f92672>=</span> <span style=color:#a6e22e>substr</span>($str, $mid);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>reverse</span>($rgt) <span style=color:#f92672>.</span> <span style=color:#a6e22e>reverse</span>($lft);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=unicode-support-implementations>Unicode-Support Implementations</h2><p>PHP&rsquo;s built-in support for Unicode strings is somewhat lacking; as such, extra steps are required to correctly reverse a string of this type.
As Unicode character representations can consist of multiple bytes (i.e. UTF-8), we are unable to naively use <code>strlen</code> and <code>str_split</code> (which assume a character is always a single byte).
The implementation below uses <code>preg_split</code> support for Unicode characters to correctly split the string into characters for us to reverse.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#a6e22e>array_reverse</span>(<span style=color:#a6e22e>preg_split</span>(<span style=color:#e6db74>&#39;//u&#39;</span>, $str, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>PREG_SPLIT_NO_EMPTY</span>)));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Using some <a href=http://en.wikipedia.org/wiki/Endianness rel="external noopener" target=_blank>endianness</a> conversion trickery we are able to use PHP&rsquo;s built-in <code>strrev</code> function.
The implementation below uses &lsquo;iconv&rsquo; to achieve the desired results.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>iconv</span>(<span style=color:#e6db74>&#39;UTF-16LE&#39;</span>, <span style=color:#e6db74>&#39;UTF-8&#39;</span>, <span style=color:#a6e22e>strrev</span>(<span style=color:#a6e22e>iconv</span>(<span style=color:#e6db74>&#39;UTF-8&#39;</span>, <span style=color:#e6db74>&#39;UTF-16BE&#39;</span>, $str)));
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Similar in nature to the previous example, we are instead now using the <code>mb</code> library to perform the conversion.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reverse</span>($str)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mb_convert_encoding</span>(<span style=color:#a6e22e>strrev</span>(<span style=color:#a6e22e>mb_convert_encoding</span>($str, <span style=color:#e6db74>&#39;UTF-16BE&#39;</span>, <span style=color:#e6db74>&#39;UTF-8&#39;</span>)), <span style=color:#e6db74>&#39;UTF-8&#39;</span>, <span style=color:#e6db74>&#39;UTF-16LE&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></main><footer class=post__tags><a href=/archive/tag/php>php</a></footer></article><div class="related-posts prose"><h3>Related Posts</h3><ul><li><a href=/posts/tuples-in-php/>Tuples in PHP</a></li><li><a href=/posts/storing-php-sessions-file-caches-in-memory-using-tmpfs/>Storing PHP Sessions/File Caches in Memory using TMPFS</a></li><li><a href=/posts/securing-sessions-in-php/>Securing Sessions in PHP</a></li><li><a href=/posts/the-y-fixed-point-combinator-in-php/>The Y (Fixed-Point) Combinator in PHP</a></li><li><a href=/posts/using-anonymous-functions-lambdas-and-closures-in-php/>Using Anonymous Functions (Lambdas) and Closures in PHP</a></li></ul></div><div class=scroll-watcher></div></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;setTimeout(()=>{const s=window.pageYOffset;n.classList.toggle("is-sticky",s>0&&t>s),t=s,e=!1},500),e=!0})})()</script></body></html>