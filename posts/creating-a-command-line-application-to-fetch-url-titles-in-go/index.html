<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Creating a Command Line Application to Fetch URL Titles in Go - Edd Mann</title>
<meta name=description content="A comprehensive guide to developing a cross-platform command-line application in Go that fetches URL titles using concurrent programming techniques and Docker."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Creating a Command Line Application to Fetch URL Titles in Go"><meta itemprop=description content="When writing show-notes for Three Devs and a Maybe it is tedious work to extract the associated show-link titles and generate a Markdown list from them. This is something that I have documented in the past, providing an automated solution to this problem. However, in this post I would like to discuss implementing such a command-line tool using Golang, creating self-reliant executables that can be cross-compiled for Mac, Windows and Linux."><meta itemprop=datePublished content="2018-08-23T00:00:00+00:00"><meta itemprop=dateModified content="2018-08-23T00:00:00+00:00"><meta itemprop=wordCount content="781"><meta itemprop=keywords content="Go,Docker"><meta property="og:url" content="https://eddmann.com/posts/creating-a-command-line-application-to-fetch-url-titles-in-go/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Creating a Command Line Application to Fetch URL Titles in Go"><meta property="og:description" content="When writing show-notes for Three Devs and a Maybe it is tedious work to extract the associated show-link titles and generate a Markdown list from them. This is something that I have documented in the past, providing an automated solution to this problem. However, in this post I would like to discuss implementing such a command-line tool using Golang, creating self-reliant executables that can be cross-compiled for Mac, Windows and Linux."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-08-23T00:00:00+00:00"><meta property="article:modified_time" content="2018-08-23T00:00:00+00:00"><meta property="article:tag" content="Go"><meta property="article:tag" content="Docker"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating a Command Line Application to Fetch URL Titles in Go"><meta name=twitter:description content="When writing show-notes for Three Devs and a Maybe it is tedious work to extract the associated show-link titles and generate a Markdown list from them. This is something that I have documented in the past, providing an automated solution to this problem. However, in this post I would like to discuss implementing such a command-line tool using Golang, creating self-reliant executables that can be cross-compiled for Mac, Windows and Linux."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.baab6396a366fd74d3313a1564d960d606740e4ac77db11beb667cfa8dbf5b25.css integrity="sha256-uqtjlqNm/XTTMToVZNlg1gZ0DkrHfbEb62Z8+o2/WyU="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/creating-a-command-line-application-to-fetch-url-titles-in-go/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.c886797fe1c76f3a5cace46b687d1d56b58c9e0df4f37c62bffbcda7eb40fce8.js integrity="sha256-yIZ5f+HHbzpcrORraH0dVrWMng3083xiv/vNp+tA/Og=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:creating-a-command-line-application-to-fetch-url-titles-in-go>Creating a Command Line Application to Fetch URL Titles in Go</h1><time datetime=2018-08-23T00:00:00Z class=time>Aug 23, 2018</time></header><main class=u-prose><p>When writing show-notes for <a href=https://threedevsandamaybe.com/ rel="external noopener" target=_blank>Three Devs and a Maybe</a> it is tedious work to extract the associated show-link titles and generate a Markdown list from them.
This is something that I have <a href=/posts/fetching-link-titles-using-promises-and-async-await-in-javascript/>documented in the past</a>, providing an automated solution to this problem.
However, in this post I would like to discuss implementing such a command-line tool using <a href=https://golang.org/ rel="external noopener" target=_blank>Golang</a>, creating self-reliant executables that can be cross-compiled for Mac, Windows and Linux.</p><p>The command-line application (entitled <code>urls-to-md</code>) will read in the latest clipboard contents, and then fetch the associated titles per URL found (using concurrent <a href=https://tour.golang.org/concurrency/1 rel="external noopener" target=_blank>Goroutines</a>).
It will then generate a Markdown list representation of these results and output this to the clipboard for easy inclusion into the show-notes.</p><h2 id=setting-up-the-development-toolchain-with-docker>Setting up the Development Toolchain with Docker</h2><p>The first step to creating this application is to set up the required development environment dependencies.
We will be containerising this environment using Docker, allowing others to easily set up and continue development in the future.
To start we will create a new <code>Dockerfile</code> with the following definition.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-docker data-lang=docker><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> golang:1.10-alpine3.8</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apk update; apk upgrade<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apk add git<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go get -u github.com/golang/dep/cmd/dep<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /go/src/app</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>VOLUME</span> [<span style=color:#e6db74>&#34;/go/src/app&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>This definition will create an image based on the official <code>golang:1.10-alpine3.8</code> release.
It then ensures that all packages are up-to-date and includes <a href=https://github.com/golang/dep rel="external noopener" target=_blank>dep</a> for managing dependencies within Go.
From here we can add our first targets to a <code>Makefile</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=display:flex><span>IMAGE_NAME<span style=color:#f92672>=</span>eddmann/urls-to-md
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>image</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>  docker build -t <span style=color:#66d9ef>$(</span>IMAGE_NAME<span style=color:#66d9ef>)</span> .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>shell</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>  docker run --rm -v <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>PWD<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>:/go/src/app <span style=color:#66d9ef>$(</span>IMAGE_NAME<span style=color:#66d9ef>)</span> /bin/sh
</span></span></code></pre></div><h2 id=writing-the-application>Writing the Application</h2><p>With this <code>Makefile</code> present we can then execute <code>make image</code> and subsequently <code>make shell</code>.
This will bring up a terminal session within a running container instance, allowing us to commence building our command-line application.
Within this session we will execute <code>dep init</code>, which will create initial <code>Gopkg.lock</code> and <code>Gopkg.toml</code> files to keep our dependencies in check.</p><p>From here, we will create the Go application within <code>urls-to-md.go</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;github.com/PuerkitoBio/goquery&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;github.com/atotto/clipboard&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;net/url&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;strings&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>isValidUri</span>(<span style=color:#a6e22e>uri</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>ParseRequestURI</span>(<span style=color:#a6e22e>uri</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>toUrlList</span>(<span style=color:#a6e22e>input</span> <span style=color:#66d9ef>string</span>) []<span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>list</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Split</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>input</span>), <span style=color:#e6db74>&#34;\n&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>urls</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>string</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>list</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>isValidUri</span>(<span style=color:#a6e22e>url</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>urls</span> = append(<span style=color:#a6e22e>urls</span>, <span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>urls</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>UrlTitle</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>idx</span>   <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>url</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>title</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>fetchUrlTitles</span>(<span style=color:#a6e22e>urls</span> []<span style=color:#66d9ef>string</span>) []<span style=color:#f92672>*</span><span style=color:#a6e22e>UrlTitle</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ch</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>UrlTitle</span>, len(<span style=color:#a6e22e>urls</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>idx</span>, <span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>urls</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>go</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>url</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocument</span>(<span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ch</span> <span style=color:#f92672>&lt;-</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>UrlTitle</span>{<span style=color:#a6e22e>idx</span>, <span style=color:#a6e22e>url</span>, <span style=color:#e6db74>&#34;&#34;</span>}
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ch</span> <span style=color:#f92672>&lt;-</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>UrlTitle</span>{<span style=color:#a6e22e>idx</span>, <span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;title&#34;</span>).<span style=color:#a6e22e>Text</span>()}
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }(<span style=color:#a6e22e>idx</span>, <span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>urlsWithTitles</span> <span style=color:#f92672>:=</span> make([]<span style=color:#f92672>*</span><span style=color:#a6e22e>UrlTitle</span>, len(<span style=color:#a6e22e>urls</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span> = <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>urls</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>urlWithTitle</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>ch</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>urlsWithTitles</span>[<span style=color:#a6e22e>urlWithTitle</span>.<span style=color:#a6e22e>idx</span>] = <span style=color:#a6e22e>urlWithTitle</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>urlsWithTitles</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>toMarkdownList</span>(<span style=color:#a6e22e>urlsWithTitles</span> []<span style=color:#f92672>*</span><span style=color:#a6e22e>UrlTitle</span>) <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>markdown</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>urlWithTitle</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>urlsWithTitles</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>markdown</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;- [%s](%s)\n&#34;</span>, <span style=color:#a6e22e>urlWithTitle</span>.<span style=color:#a6e22e>title</span>, <span style=color:#a6e22e>urlWithTitle</span>.<span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>markdown</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>clipboard</span>.<span style=color:#a6e22e>ReadAll</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>urls</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>toUrlList</span>(<span style=color:#a6e22e>input</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>urls</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;No URLs found in clipboard.&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>urlsWithTitles</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>fetchUrlTitles</span>(<span style=color:#a6e22e>urls</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>markdown</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>toMarkdownList</span>(<span style=color:#a6e22e>urlsWithTitles</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>markdown</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>clipboard</span>.<span style=color:#a6e22e>WriteAll</span>(<span style=color:#a6e22e>markdown</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This application takes advantage of a couple of third-party dependencies (<a href=https://github.com/atotto/clipboard rel="external noopener" target=_blank>clipboard</a> and <a href=https://github.com/PuerkitoBio/goquery rel="external noopener" target=_blank>goquery</a>) to read from and write to the system clipboard, and to locate the title contents from the URL response.</p><p>We encapsulate every URL request into light-weight Goroutines, allowing these calls to occur concurrently.
As the order in which these channels complete cannot be relied upon, we ensure that the results are put back in the same order that we received them.</p><p>With this in place we can pull down and make the third-party dependencies available (within a <code>vendors</code> directory) by adding and executing the following target to the <code>Makefile</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=display:flex><span><span style=color:#a6e22e>deps</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>  docker run --rm -v <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>PWD<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>:/go/src/app <span style=color:#66d9ef>$(</span>IMAGE_NAME<span style=color:#66d9ef>)</span> dep ensure
</span></span></code></pre></div><h2 id=distributing-the-application>Distributing the Application</h2><p>Finally, we can cross-compile this command-line application for all the desired systems by adding and executing the following new target within the <code>Makefile</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=display:flex><span>DIST_OS<span style=color:#f92672>=</span>darwin linux windows
</span></span><span style=display:flex><span>DIST_ARCH<span style=color:#f92672>=</span>amd64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>build</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>  docker run --rm -v <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>PWD<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>:/go/src/app <span style=color:#66d9ef>$(</span>IMAGE_NAME<span style=color:#66d9ef>)</span> /bin/sh -c <span style=color:#e6db74>&#39; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    rm -fr ./dist/*; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    for GOOS in $(DIST_OS); do \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      for GOARCH in $(DIST_ARCH); do \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        GOOS=$$GOOS GOARCH=$$GOARCH go build -o ./dist/urls-to-md-$$GOOS-$$GOARCH ./urls-to-md.go; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      done; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    done;&#39;</span>
</span></span></code></pre></div><p>This target will compile individual executable artefacts for all the specified operating system and architecture combinations.
We should now be able to test the relevant artefact for the host system you are currently using, in my case macOS.</p><p><img src=urls-to-md-darwin-amd64.gif alt="Command Line Application Demo"></p><p>I hope you have found it interesting looking into developing and distributing a trivial command-line application using Golang.
The ability to compile native system binaries that can be shared is a powerful concept, and for small applications like this it is extremely useful.</p><p>You can find the full source-code for this application within the <a href=https://github.com/eddmann/urls-to-md rel="external noopener" target=_blank>GitHub repository</a>.</p></main><footer class=post__tags><a href=/archive/tag/go>go</a><a href=/archive/tag/docker>docker</a></footer></article><div class="related-posts u-prose"><h3>Related Posts</h3><ul><li><a href=/posts/mince-pie-challenge-setting-up-the-serverless-framework-with-docker-webpack-and-babel/>Mince Pie Challenge: Setting up the Serverless Framework with Docker, Webpack and Babel</a></li></ul></div><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>