<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover ten interesting methods to reverse a string in JavaScript, complete with performance analysis and practical code examples for coding interviews.">

    <title>
        
            Ten ways to reverse a string in JavaScript &middot; Edd Mann
        
    </title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles.css">

    <link rel="shortcut icon" href="/favicon.ico">

    <link rel="alternate" href="/rss.xml" title="" type="application/rss+xml">

    

    <script>
        var _gaq=[['_setAccount','UA-32512081-1'],['_setDomainName','eddmann.com'],['_trackPageview']];
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = 'https://ssl.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>

    <body>
        <div class="container content">
            <header class="masthead">
                <h3 class="masthead-title">
                    <a href="/" title="Home">Edd Mann</a>
                    <small><i class="fa fa-code"></i> Developer</small>
                </h3>
                <nav>
                    <a href="https://twitter.com/edd_mann"><i class="fa fa-twitter"></i></a>
                    <a href="https://github.com/eddmann"><i class="fa fa-github"></i></a>
                    <a href="mailto:the@eddmann.com"><i class="fa fa-envelope"></i></a>
                </nav>
                <div class="cf"></div>
            </header>

            <main>
                <article class="post">
    <h1 class="post-title">Ten ways to reverse a string in JavaScript</h1>
    <time datetime="2011-10-31T00:00:00+00:00" class="post-date">31 Oct 2011</time>
    <p>In a recent job interview, I was asked to write a simple C# function that would reverse a string and return the result.
However, there was a catch: I was unable to use the provided string object’s <code class="language-plaintext highlighter-rouge">reverse()</code> function.
I successfully created a function that did as requested (using a decrementing for-loop and concatenation), though I realised that using concatenation would result in a new string being created in memory upon each iteration, as strings are immutable objects.
I solved this by using a <code class="language-plaintext highlighter-rouge">StringBuilder</code> to append each character and then returning the result.
On the way home, I began to think of the endless ways in which you could reverse a string in code (extremely sad, I know).</p>



<h2 id="implementations">Implementations</h2>

<p>Below are my ten favourite and most interesting ways I conjured up to solve the problem of reversing a string.
I decided to use JavaScript as it provided me with a quick feedback loop (in the browser) and first-class function support.</p>

<h3 id="1-decrementing-for-loop-with-concatenation">1: Decrementing for-loop with concatenation</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">o</span> <span class="o">+=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The original way that I achieved the intended result was to use a decrementing for-loop that appended each character of the input string in reverse order.
I was able to access the string’s individual characters similar to the way you would reference an array’s items.</p>

<h3 id="2-incrementingdecrementing-for-loop-with-two-arrays">2: Incrementing/decrementing for-loop with two arrays</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">,</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">o</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Another approach to reverse a string was to create an empty array and iterate over the length of the string using both incrementing and decrementing counters.
The array position utilises the incrementing counter, whereas the input string is accessed with the decrementing one.
Finally, the array is joined into a single string and returned.</p>

<h3 id="3-incrementing-for-loop-with-array-pushing-and-charat">3: Incrementing for-loop with array pushing and <code class="language-plaintext highlighter-rouge">charAt</code></h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">len</span> <span class="o">-</span> <span class="nx">i</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This example is a modification of the second one.
Instead of using two counters, a single incrementing value is subtracted from the total length of the input string to determine the next character to push onto the new array (using the <code class="language-plaintext highlighter-rouge">push</code> function).
Another difference is that it uses the string’s <code class="language-plaintext highlighter-rouge">charAt</code> method instead of its array capabilities.</p>

<h3 id="4-in-built-functions">4: In-built functions</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">''</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This implementation takes advantage of the <code class="language-plaintext highlighter-rouge">reverse</code> method provided by the <code class="language-plaintext highlighter-rouge">Array</code> prototype.
First, it splits the string into an array, then calls the <code class="language-plaintext highlighter-rouge">reverse</code> method, and finally returns the joined array.</p>

<h3 id="5-decrementing-while-loop-with-concatenation-and-substring">5: Decrementing while-loop with concatenation and substring</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
    <span class="nx">o</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">o</span> <span class="o">+=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
    <span class="nx">i</span><span class="o">--</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Using a decrementing while-loop, I implemented this method.
Again, by harnessing concatenation, I was able to iterate through the string similarly to the for-loops used in the first two examples.
I then used the string’s <code class="language-plaintext highlighter-rouge">substring</code> function to retrieve each desired character.</p>

<h3 id="6-single-for-loop-declaration-with-concatenation">6: Single for-loop declaration with concatenation</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">o</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">o</span> <span class="o">+=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="o">--</span><span class="p">])</span> <span class="p">{}</span>
  <span class="k">return</span> <span class="nx">o</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This is most likely my favourite implementation, despite its unnecessarily cryptic nature.
Using only a single for-loop declaration, I decremented through the input string and concatenated each character to a new string to return.</p>

<h3 id="7-recursion-with-substring-and-charat">7: Recursion with substring and charAt</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">s</span> <span class="o">===</span> <span class="dl">''</span> <span class="p">?</span> <span class="dl">''</span> <span class="p">:</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="nx">s</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This example recursively calls itself, passing in the input string excluding the first character on each iteration, which is then appended to the result.
This process continues until no input remains (the base case), resulting in a reversed string.</p>

<h3 id="8-internal-function-recursion">8: Internal function recursion</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">rev</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">len</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">?</span> <span class="nx">o</span> <span class="p">:</span> <span class="nx">rev</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="o">--</span><span class="nx">len</span><span class="p">,</span> <span class="p">(</span><span class="nx">o</span> <span class="o">+=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">len</span><span class="p">]));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">rev</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Here is another example of using recursion to reverse a string.
The implementation utilises an internal function that is first called by the outer function, passing in the input string, its length, and an empty string.
The internal function then recursively calls itself until the length has been decremented to zero - at which point the initially empty string has been concatenated with the input string’s characters in reverse order.</p>

<h3 id="9-half-index-switch-for-loop">9: Half-index switch for-loop</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">s</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
    <span class="nx">halfIndex</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">len</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">tmp</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">halfIndex</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tmp</span> <span class="o">=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">len</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="nx">s</span><span class="p">[</span><span class="nx">len</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="nx">s</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>I found this method to be a very effective way of reversing a string, particularly when processing large strings.
The string’s half-point is first calculated and then iterated over.
On each iteration, the upper half’s value (determined by subtracting the current index from the string’s length) is temporarily stored and swapped with the lower half’s value, resulting in a reversed string.</p>

<h3 id="10-half-index-recursion">10: Half-index recursion</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="nx">s</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">halfIndex</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">halfIndex</span><span class="p">))</span> <span class="o">+</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">halfIndex</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The final method uses the same half-indexing idea as the previous implementation but relies on recursion to reverse the string instead of a for-loop.</p>

<h2 id="performance">Performance</h2>

<p>It is all fun and games being a JavaScript <em>ninja</em> and finding interesting tricks to complete quite a mundane task.
However, the real-world performance of your implementation is what matters most to the end user.
To assess how effective each implementation is, I tested their performance using an online tool called <a href="http://jsperf.com">JSPref</a>.
JSPref allows you to create unit-style test suites, which can then be run on any browser you have access to.
What makes this tool so great is that it stores the results of each run in the cloud, providing easily accessible, meaningful graphs and statistics.
In the test suite, each function was called multiple times (with time measured and an average calculated) one after the other with a randomly generated 20-character-long string to be reversed.</p>

<p><img src="/uploads/ten-ways-to-reverse-a-string-in-javascript/browser-performance.png" alt="A graph showing the performance of the ten implementations in four browsers" /></p>

<p>Above is a screenshot (without the key) of one of the graphs that JSPref provided for the result set.
I ran the test suite five times on the four most popular browsers to gather a large breadth of data to analyse.
You will notice that Chrome is by far the fastest browser at running each implementation, with significant speed boosts when using the <em>first</em> and <em>sixth</em> implementations.
This is a testament to the time and optimisation that has gone into the development of the V8 JavaScript engine.
What surprised me, however, was how ineffective the built-in function implementation was on almost all tested browsers.
The exception was IE 9, which surprisingly ran it the fastest compared to all the other browsers and implementations.</p>

<p>Best performing implementation(s) per browser</p>

<ul>
  <li>Chrome 15 - <em>Implemations 1 and 6</em></li>
  <li>Firefox 7 - <em>Implementation 6</em></li>
  <li>IE 9 - <em>Implementation 4</em></li>
  <li>Opera 12 - <em>Implementation 9</em></li>
</ul>

<p>To conclude, upon reflection of the processed data, I believe that the first implementation is the most favourable one to use in production, as it consistently scores well across all browsers.
I am surprised by this conclusion, as I thought that string concatenation was a costly operation, especially when performed repeatedly.
This analysis leads me to believe that browser vendors have heavily optimised this process, given its prevalence in everyday coding tasks.</p>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="http://jsperf.com/">JSPref</a></li>
  <li><a href="http://jsperf.com/string-reverse-function-performance">String Reverse Function Performance - JSPref</a></li>
  <li><a href="http://stackoverflow.com/questions/958908/how-do-you-reverse-a-string-in-place-in-javascript">How do you reverse a string in-place in JavaScript? - StackOverflow</a></li>
</ul>

</article>

            </main>

            <footer class="footer">
                <img src="https://www.gravatar.com/avatar/c5c2978bb14d16460f73399c394b6acd?s=160">
                <ul>
                    <li>Developer at <a href="http://www.mybuilder.com/">MyBuilder</a></li>
                    <li><a href="http://threedevsandamaybe.com/">Three Devs and a Maybe</a> podcast co-host</li>
                    <li>All ramblings can be found in the <a href="/archive/">Archive</a></li>
                </ul>
                <div class="cf"></div>
            </footer>
        </div>
    </body>
</html>
