<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Using Multiple Arrays with array_map in PHP - Edd Mann</title>
<meta name=description content="Learn how to supply multiple arrays to array_map in PHP, enabling elegant solutions for indexing and key-value access within callbacks."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Using Multiple Arrays with array_map in PHP"><meta itemprop=description content="Today, I stumbled upon some code that I did not realise was possible with the array_map function in PHP. You are able to supply multiple arrays, which in turn will get ‘zipped up’ and passed to the supplied callback as parameters. This allows for some rather elegant solutions to the ‘index issue’ and accessing keys from within the callback - both of which are easily achieved in an imperative mindset."><meta itemprop=datePublished content="2016-01-28T00:00:00+00:00"><meta itemprop=dateModified content="2016-01-28T00:00:00+00:00"><meta itemprop=wordCount content="247"><meta itemprop=keywords content="Php"><meta property="og:url" content="https://eddmann.com/posts/using-multiple-arrays-with-array-map-in-php/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Using Multiple Arrays with array_map in PHP"><meta property="og:description" content="Today, I stumbled upon some code that I did not realise was possible with the array_map function in PHP. You are able to supply multiple arrays, which in turn will get ‘zipped up’ and passed to the supplied callback as parameters. This allows for some rather elegant solutions to the ‘index issue’ and accessing keys from within the callback - both of which are easily achieved in an imperative mindset."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-01-28T00:00:00+00:00"><meta property="article:modified_time" content="2016-01-28T00:00:00+00:00"><meta property="article:tag" content="Php"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Multiple Arrays with array_map in PHP"><meta name=twitter:description content="Today, I stumbled upon some code that I did not realise was possible with the array_map function in PHP. You are able to supply multiple arrays, which in turn will get ‘zipped up’ and passed to the supplied callback as parameters. This allows for some rather elegant solutions to the ‘index issue’ and accessing keys from within the callback - both of which are easily achieved in an imperative mindset."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.6b5d0ef6e3fcc342a7b1bb186a93637ef078dec14a4a0fe2665258ada27fdc79.css integrity="sha256-a10O9uP8w0KnsbsYapNjfvB43sFKSg/iZlJYraJ/3Hk="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/using-multiple-arrays-with-array-map-in-php/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1 class=transition-between-pages style=--id:using-multiple-arrays-with-array-map-in-php>Using Multiple Arrays with array_map in PHP</h1><time class=post__time>Jan 28, 2016</time></header><main class=prose><p>Today, I stumbled upon some code that I did not realise was possible with the <code>array_map</code> function in PHP.
You are able to supply multiple arrays, which in turn will get &lsquo;zipped up&rsquo; and passed to the supplied callback as parameters.
This allows for some rather elegant solutions to the &lsquo;index issue&rsquo; and accessing keys from within the callback - both of which are easily achieved in an imperative mindset.</p><h2 id=current-index>Current Index</h2><p>Using the <code>range</code> function, we are able to supply a sequence of indexes based on the collection.
This allows us to access the current index from within the callback function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$users <span style=color:#f92672>=</span> [ <span style=color:#e6db74>&#39;Joe&#39;</span>, <span style=color:#e6db74>&#39;Bob&#39;</span>, <span style=color:#e6db74>&#39;Sam&#39;</span> ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>array_map</span>(<span style=color:#66d9ef>function</span> ($name, $position) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>compact</span>(<span style=color:#e6db74>&#39;position&#39;</span>, <span style=color:#e6db74>&#39;name&#39;</span>);
</span></span><span style=display:flex><span>}, $users, <span style=color:#a6e22e>range</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>count</span>($users)));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [ position =&gt; 1, name =&gt; &#39;Joe&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ position =&gt; 2, name =&gt; &#39;Bob&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ position =&gt; 3, name =&gt; &#39;Sam&#39; ]
</span></span></span></code></pre></div><h2 id=key-value-access>Key-Value Access</h2><p>One use case that a <code>foreach</code> provides is the ability to destructure an associative array, allowing you to access the key and value.
In its basic form, an <code>array_map</code> seems to be missing this capability; however, with the ability to supply multiple arrays, this is not the case.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$users <span style=color:#f92672>=</span> [ <span style=color:#ae81ff>123</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Joe&#39;</span>, <span style=color:#ae81ff>456</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Bob&#39;</span>, <span style=color:#ae81ff>789</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Sam&#39;</span> ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>array_map</span>(<span style=color:#66d9ef>function</span> ($id, $name) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>compact</span>(<span style=color:#e6db74>&#39;id&#39;</span>, <span style=color:#e6db74>&#39;name&#39;</span>);
</span></span><span style=display:flex><span>}, <span style=color:#a6e22e>array_keys</span>($users), <span style=color:#a6e22e>array_values</span>($users));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [ id =&gt; 123, name =&gt; &#39;Joe&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ id =&gt; 456, name =&gt; &#39;Bob&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ id =&gt; 789, name =&gt; &#39;Sam&#39; ]
</span></span></span></code></pre></div></main><footer class=post__tags><a href=/archive/tag/php>php</a></footer></article><div class="related-posts prose"><h3>Related Posts</h3><ul><li><a href=/posts/developing-a-resizable-indexed-array-as-a-php-extension-with-joe-watkins/>Developing a Resizable-Indexed Array as a PHP Extension with Joe Watkins</a></li><li><a href=/posts/php-extension-development-for-beginners-with-joe-watkins/>PHP Extension Development for Beginners with Joe Watkins</a></li><li><a href=/posts/insertion-removal-and-inversion-operations-on-binary-search-trees-in-php/>Insertion, Removal and Inversion Operations on Binary (Search) Trees in PHP</a></li><li><a href=/posts/managing-jenkins-project-builds-and-configuration-using-php/>Managing Jenkins Project Builds and Configuration using PHP</a></li><li><a href=/posts/optional-value-control-flows-in-php-using-traits-and-magic-methods/>Optional Value Control-flows in PHP using Traits and Magic-methods</a></li></ul></div><div class=scroll-watcher></div></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;setTimeout(()=>{const s=window.pageYOffset;n.classList.toggle("is-sticky",s>0&&t>s),t=s,e=!1},500),e=!0})})()</script></body></html>