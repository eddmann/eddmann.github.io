<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Advent of Code 2015 - Day 10 - Elves Look, Elves Say - Edd Mann</title>
<meta name=description content="Solving the Advent of Code 2015 Day 10 puzzle using TypeScript."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Advent of Code 2015 - Day 10 - Elves Look, Elves Say"><meta itemprop=description content="On the tenth day of Advent of Code 2015, the Elves are playing a game of look-and-say, in which we are asked to find several terms in the sequence."><meta itemprop=datePublished content="2021-02-03T00:00:00+00:00"><meta itemprop=dateModified content="2021-02-03T00:00:00+00:00"><meta itemprop=wordCount content="325"><meta itemprop=keywords content="Advent-of-Code,Advent-of-Code-2015,Typescript"><meta property="og:url" content="https://eddmann.com/posts/advent-of-code-2015-day-10-elves-look-elves-say/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Advent of Code 2015 - Day 10 - Elves Look, Elves Say"><meta property="og:description" content="On the tenth day of Advent of Code 2015, the Elves are playing a game of look-and-say, in which we are asked to find several terms in the sequence."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-03T00:00:00+00:00"><meta property="article:modified_time" content="2021-02-03T00:00:00+00:00"><meta property="article:tag" content="Advent-of-Code"><meta property="article:tag" content="Advent-of-Code-2015"><meta property="article:tag" content="Typescript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Advent of Code 2015 - Day 10 - Elves Look, Elves Say"><meta name=twitter:description content="On the tenth day of Advent of Code 2015, the Elves are playing a game of look-and-say, in which we are asked to find several terms in the sequence."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.c3ee6cab58dd3fee7e6960b0391e996ba9254804702bc60a52ec5e0e3591a018.css integrity="sha256-w+5sq1jdP+5+aWCwOR6Za6klSARwK8YKUuxeDjWRoBg="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/advent-of-code-2015-day-10-elves-look-elves-say/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.250e7cf850e958b4272ae208ba50192c2c96e26ebb656d272683894c80f86f20.js integrity="sha256-JQ58+FDpWLQnKuIIulAZLCyW4m67ZW0nJoOJTID4byA=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:advent-of-code-2015-day-10-elves-look-elves-say>Advent of Code 2015 - Day 10 - Elves Look, Elves Say</h1><time datetime=2021-02-03T00:00:00Z class=published-at>Feb 3, 2021</time></header><main class=u-prose><p>On the tenth day of Advent of Code 2015, the Elves are playing a game of <a href=https://en.wikipedia.org/wiki/Look-and-say_sequence rel="external noopener" target=_blank>look-and-say</a>, in which we are asked to find several terms in the sequence.</p><h2 id=part-1>Part 1</h2><p>For part one, we are asked to determine the length of the result of the 40th term in the sequence (starting with the provided input).
Based on a famous integer sequence, we begin by implementing how the next term can be produced from a supplied value.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lookAndSay</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span>
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/(\d)\1*/g</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>next</span>, <span style=color:#a6e22e>digit</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>next</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>digit</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>digit</span>[<span style=color:#ae81ff>0</span>], <span style=color:#e6db74>&#39;&#39;</span>);
</span></span></code></pre></div><p>For this implementation, I have decided to take advantage of regular expression back-references again to capture all the grouped adjacent digits - treating integers as strings in the process.
From here, we can reduce over these groups, forming the next value in the sequence.</p><p>Now that we have the ability to produce the next term in the sequence, we need a means to iterate over this process for a given number of times.
For this, I decided to create a small generic utility function, which is influenced by the <a href=https://clojuredocs.org/clojure.core/iterate rel="external noopener" target=_blank><code>iterate</code></a> function provided in Clojure (except this one is not lazy).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>repeat</span> <span style=color:#f92672>=</span> &lt;<span style=color:#f92672>T</span>&gt;(
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>times</span>: <span style=color:#66d9ef>number</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fn</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>T</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>T</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>initialValue?</span>: <span style=color:#66d9ef>T</span>
</span></span><span style=display:flex><span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>T</span> <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>accumulator</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>initialValue</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>times</span><span style=color:#f92672>--</span>) <span style=color:#a6e22e>accumulator</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fn</span>(<span style=color:#a6e22e>accumulator</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>accumulator</span>;
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>Providing an optional initial value, this function abstracts away the mutational looping required to apply this process in a performant manner.
With these two functions now present, we can compose them together and find the 40th term, which is required to answer this part&rsquo;s question ðŸŒŸ.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part1</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>repeat</span>(<span style=color:#ae81ff>40</span>, <span style=color:#a6e22e>lookAndSay</span>, <span style=color:#a6e22e>input</span>).<span style=color:#a6e22e>length</span>;
</span></span></code></pre></div><h2 id=part-2>Part 2</h2><p>For part two, we are required to instead find the length of the 50th term in the sequence.
Again, we can compose the two above functions together to find the desired answer ðŸŒŸ.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part2</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>repeat</span>(<span style=color:#ae81ff>50</span>, <span style=color:#a6e22e>lookAndSay</span>, <span style=color:#a6e22e>input</span>).<span style=color:#a6e22e>length</span>;
</span></span></code></pre></div></main><footer class=post-footer><ul class="tags tags--large"><li><a href=/archive/tag/advent-of-code>advent-of-code</a></li><li><a href=/archive/tag/advent-of-code-2015>advent-of-code-2015</a></li><li><a href=/archive/tag/typescript>typescript</a></li></ul><div class=related><h3 class=related__title>Related Posts</h3><ul class=related__posts><li><a href=/posts/advent-of-code-2015-day-9-all-in-a-single-night/>Advent of Code 2015 - Day 9 - All in a Single Night</a></li><li><a href=/posts/advent-of-code-2015-day-8-matchsticks/>Advent of Code 2015 - Day 8 - Matchsticks</a></li><li><a href=/posts/advent-of-code-2015-day-7-some-assembly-required/>Advent of Code 2015 - Day 7 - Some Assembly Required</a></li><li><a href=/posts/advent-of-code-2015-day-6-probably-a-fire-hazard/>Advent of Code 2015 - Day 6 - Probably a Fire Hazard</a></li><li><a href=/posts/advent-of-code-2015-day-5-doesnt-he-have-intern-elves-for-this/>Advent of Code 2015 - Day 5 - Doesn't He Have Intern-Elves For This?</a></li></ul></div></footer></article><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>