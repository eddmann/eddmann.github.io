<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Maybe in JavaScript - Edd Mann</title>
<meta name=description content="Explore the Maybe type in JavaScript, including its implementation and practical examples for safe handling of null and undefined values."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Maybe in JavaScript"><meta itemprop=description content="Recently, I have been delving into the concepts of Functors and Monads. There are many good resources available online that will do a far better job of explaining these concepts than I could. However, I do wish to document an example of a Maybe type I have implemented in JavaScript. Again, there are many excellent external resources that highlight the characteristics and power of using such a type, so I will direct your attention to those if you wish to learn more."><meta itemprop=datePublished content="2016-06-08T00:00:00+00:00"><meta itemprop=dateModified content="2016-06-08T00:00:00+00:00"><meta itemprop=wordCount content="758"><meta itemprop=keywords content="Javascript,Functional-Programming"><meta property="og:url" content="https://eddmann.com/posts/maybe-in-javascript/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Maybe in JavaScript"><meta property="og:description" content="Recently, I have been delving into the concepts of Functors and Monads. There are many good resources available online that will do a far better job of explaining these concepts than I could. However, I do wish to document an example of a Maybe type I have implemented in JavaScript. Again, there are many excellent external resources that highlight the characteristics and power of using such a type, so I will direct your attention to those if you wish to learn more."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-06-08T00:00:00+00:00"><meta property="article:modified_time" content="2016-06-08T00:00:00+00:00"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Functional-Programming"><meta name=twitter:card content="summary"><meta name=twitter:title content="Maybe in JavaScript"><meta name=twitter:description content="Recently, I have been delving into the concepts of Functors and Monads. There are many good resources available online that will do a far better job of explaining these concepts than I could. However, I do wish to document an example of a Maybe type I have implemented in JavaScript. Again, there are many excellent external resources that highlight the characteristics and power of using such a type, so I will direct your attention to those if you wish to learn more."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.a18bbea58d05187498ffb7d6a33b580609df2e92b988055a4b51e41596cc934e.css integrity="sha256-oYu+pY0FGHSY/7fWoztYBgnfLpK5iAVaS1HkFZbMk04="><link rel=preload as=image href=/assets/x.svg crossorigin=anonymous><link rel=preload as=image href=/assets/github.svg crossorigin=anonymous><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/maybe-in-javascript/><script>document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")</script><script src=/script.min.7f6917401c23509595a4da9144cfe3c8fde343c0352e6d627aa366129e1bdb48.js integrity="sha256-f2kXQBwjUJWVpNqRRM/jyP3jQ8A1Lm1ieqNmEp4b20g=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:maybe-in-javascript>Maybe in JavaScript</h1><time datetime=2016-06-08T00:00:00Z class=published-at>Jun 8, 2016</time></header><main class=u-prose><p>Recently, I have been delving into the concepts of <a href=http://learnyouahaskell.com/functors-applicative-functors-and-monoids rel="external noopener" target=_blank>Functors</a> and <a href=http://learnyouahaskell.com/a-fistful-of-monads rel="external noopener" target=_blank>Monads</a>.
There are many good <a href=https://curiosity-driven.org/monads-in-javascript rel="external noopener" target=_blank>resources</a> available online that will do a far better job of explaining these concepts than I could.
However, I do wish to document an example of a Maybe type I have implemented in JavaScript.
Again, there are many excellent external <a href=http://sean.voisen.org/blog/2013/10/intro-monads-maybe/ rel="external noopener" target=_blank>resources</a> that highlight the characteristics and power of using such a type, so I will direct your attention to those if you wish to learn more.</p><h2 id=implementation>Implementation</h2><p>The Maybe type encapsulates the concept of Some (contains a value) and None (no value present).
With these two abstractions, we can safely handle cases where no value is present, avoiding NullPointerException errors and excessive null checks.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Maybe</span> <span style=color:#f92672>=</span> (<span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Some</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>x</span>) { <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span>; };
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Some</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>fmap</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>fn</span>) { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>Maybe</span>.<span style=color:#66d9ef>of</span>(<span style=color:#a6e22e>fn</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span>)); };
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Some</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>bind</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>fn</span>) { <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fn</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span>); };
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Some</span>.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>toString</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () { <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`Some(</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span><span style=color:#e6db74>}</span><span style=color:#e6db74>)`</span>; };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>None</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () {};
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>None</span>.<span style=color:#a6e22e>fmap</span> <span style=color:#f92672>=</span> () =&gt; <span style=color:#a6e22e>None</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>None</span>.<span style=color:#a6e22e>bind</span> <span style=color:#f92672>=</span> () =&gt; <span style=color:#a6e22e>None</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>None</span>.<span style=color:#a6e22e>toString</span> <span style=color:#f92672>=</span> () =&gt; <span style=color:#e6db74>&#39;None&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>of</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>x</span>) =&gt; <span style=color:#a6e22e>x</span> <span style=color:#f92672>===</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>===</span> <span style=color:#66d9ef>undefined</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>None</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Some</span>(<span style=color:#a6e22e>x</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lift</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>fn</span>) =&gt; (...<span style=color:#a6e22e>args</span>) =&gt; <span style=color:#a6e22e>Maybe</span>.<span style=color:#66d9ef>of</span>(<span style=color:#a6e22e>fn</span>(...<span style=color:#a6e22e>args</span>)),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Some</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>None</span>
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>})();
</span></span></code></pre></div><p>The implementation above uses two small prototypical class definitions to define Some and None.
We then return the ability to take a value of a plain type and put it into a Maybe container, along with the capability to lift a function into the Maybe space.</p><h2 id=division-by-zero-example>Division by Zero Example</h2><p>The first example of using the Maybe type I will demonstrate is in the case of handling division by zero errors.
If the denominator is zero, instead of throwing an exception or returning null (as shown in the basic <code>div</code> implementation), we lift the function into the Maybe type and return a Some or None.
This may not seem like much of a win at this point, but when we later look at examples of composing these expressions together, you will see its full power.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>div</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) =&gt; <span style=color:#a6e22e>b</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mdiv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Maybe</span>.<span style=color:#a6e22e>lift</span>(<span style=color:#a6e22e>div</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>div</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mdiv</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// None
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mdiv</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>2</span>); <span style=color:#75715e>// Some(5)
</span></span></span></code></pre></div><h2 id=property-retrieval-example>Property Retrieval Example</h2><p>Another case where <code>undefined</code> values may appear in JavaScript is when retrieving properties from objects that may (or may not) be present.
Again, we highlight how the basic <code>get</code> function returns the object property or undefined if not present, whereas lifting it into the Maybe type provides us with the Some and None abstractions.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>get</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>curry</span>((<span style=color:#a6e22e>prop</span>, <span style=color:#a6e22e>obj</span>) =&gt; <span style=color:#a6e22e>obj</span>[<span style=color:#a6e22e>prop</span>]);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mget</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>prop</span>) =&gt; <span style=color:#a6e22e>Maybe</span>.<span style=color:#a6e22e>lift</span>(<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>prop</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Joe Bloggs&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>25</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>street</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Cinder Drive&#39;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;agez&#39;</span>)(<span style=color:#a6e22e>user</span>); <span style=color:#75715e>// undefined
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;agez&#39;</span>)(<span style=color:#a6e22e>user</span>); <span style=color:#75715e>// None
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;age&#39;</span>)(<span style=color:#a6e22e>user</span>); <span style=color:#75715e>// Some(25)
</span></span></span></code></pre></div><p>We can then compose multiple <code>mget</code> functions together, handling application on the Maybe containers using <code>fmap</code> and <code>bind</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fmap</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>curry</span>((<span style=color:#a6e22e>fn</span>, <span style=color:#a6e22e>functor</span>) =&gt; <span style=color:#a6e22e>functor</span>.<span style=color:#a6e22e>fmap</span>(<span style=color:#a6e22e>fn</span>));
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>bind</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>curry</span>((<span style=color:#a6e22e>fn</span>, <span style=color:#a6e22e>monad</span>) =&gt; <span style=color:#a6e22e>monad</span>.<span style=color:#a6e22e>bind</span>(<span style=color:#a6e22e>fn</span>));
</span></span></code></pre></div><p>You will notice that <code>fmap</code> double-wraps the resulting value.
This is because, as a Functor definition, its action is to wrap the resulting value (from our provided function) back into the given container.
However, in the case of the <code>bind</code> Monad definition, it does not wrap the value back into the container upon completion but instead relies on the function itself to return the correctly typed value.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getStreet</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>compose</span>(<span style=color:#a6e22e>fmap</span>(<span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;street&#39;</span>)), <span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;address&#39;</span>));
</span></span><span style=display:flex><span><span style=color:#a6e22e>getStreet</span>({ <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> {} }); <span style=color:#75715e>// Some(None)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>getStreet</span>(<span style=color:#a6e22e>user</span>); <span style=color:#75715e>// Some(Some(Cinder Drive))
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>getStreet</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>compose</span>(<span style=color:#a6e22e>bind</span>(<span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;street&#39;</span>)), <span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;address&#39;</span>));
</span></span><span style=display:flex><span><span style=color:#a6e22e>getStreet</span>({ <span style=color:#a6e22e>address</span><span style=color:#f92672>:</span> {} }); <span style=color:#75715e>// None
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>getStreet</span>(<span style=color:#a6e22e>user</span>); <span style=color:#75715e>// Some(Cinder Drive)
</span></span></span></code></pre></div><h2 id=mimicking-do-notation-in-javascript>Mimicking Do Notation in JavaScript</h2><p>When looking at Haskell examples, you will notice how succinct the do notation is at handling the containers used.
We can take advantage of JavaScript&rsquo;s ability to parse functions as strings to rewrite a language similar to this notation into one that can be executed.
This allows us to clearly express the intent of the code rather than cluttering it with the plumbing required to make it work with the containers.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>doM</span> <span style=color:#f92672>=</span> (<span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tokenize</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>exp</span>) =&gt; <span style=color:#a6e22e>exp</span>
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>toString</span>()
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>/[\n;]/</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>slice</span>(<span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>s</span>) =&gt; <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>trim</span>())
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>filter</span>(Boolean);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>evaluate</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>tokens</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tokens</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>token</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tokens</span>.<span style=color:#a6e22e>shift</span>(), <span style=color:#a6e22e>match</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>match</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>token</span>.<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/^return (.+)$/</span>))
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`return Maybe.of(</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>match</span>[<span style=color:#ae81ff>1</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>);`</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>evaluate</span>(<span style=color:#a6e22e>tokens</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>match</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>token</span>.<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/^(.+) &lt;= (.+)$/</span>))
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#e6db74>`return </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>match</span>[<span style=color:#ae81ff>2</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>.bind(function(</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>match</span>[<span style=color:#ae81ff>1</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>) { </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>evaluate</span>(<span style=color:#a6e22e>tokens</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74> });`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>evaluate</span>(<span style=color:#a6e22e>tokens</span>);
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>compose</span>(<span style=color:#a6e22e>x</span> =&gt; <span style=color:#a6e22e>x</span>(), Function, <span style=color:#a6e22e>evaluate</span>, <span style=color:#a6e22e>tokenize</span>);
</span></span><span style=display:flex><span>})();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>doM</span>(() =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>address</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;address&#39;</span>)(<span style=color:#a6e22e>user</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>street</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>mget</span>(<span style=color:#e6db74>&#39;street&#39;</span>)(<span style=color:#a6e22e>address</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>street</span>
</span></span><span style=display:flex><span>}); <span style=color:#75715e>// Some(Cinder Drive)
</span></span></span></code></pre></div></main><footer class=post-footer><ul class="tags tags--large"><li><a href=/archive/tag/javascript>javascript</a></li><li><a href=/archive/tag/functional-programming>functional-programming</a></li></ul><div class=related><h3 class=related__title>Related Posts</h3><ul class=related__posts><li><a href=/posts/binary-octal-hexadecimal-to-decimal-using-collection-pipelines-in-javascript/>Binary/Octal/Hexadecimal to Decimal using Collection Pipelines in JavaScript</a></li><li><a href=/posts/implementing-transpose-and-zip-in-javascript/>Implementing Transpose and Zip in JavaScript</a></li><li><a href=/posts/even-higher-trampolining-in-javascript/>Even Higher Trampolining in JavaScript</a></li><li><a href=/posts/recursive-functions-using-a-trampoline-in-javascript/>Recursive Functions using a Trampoline in JavaScript</a></li><li><a href=/posts/cartesian-product-in-javascript/>Cartesian Product in JavaScript</a></li></ul></div></footer></article><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>