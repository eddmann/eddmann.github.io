<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Advent of Code 2015 - Day 1 - Not Quite Lisp - Edd Mann</title>
<meta name=description content="Solving the Advent of Code 2015 Day 1 puzzle using TypeScript."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Advent of Code 2015 - Day 1 - Not Quite Lisp"><meta itemprop=description content="This past December, a fellow colleague introduced us to Advent of Code. What initially started out as completing each daily 2020 puzzle in my own time soon turned into a daily obsession, and in turn, an incredible learning experience shared amongst the team.
Having completed the 2020 calendar at the end of last year, over the past couple of weeks we have begun working through the previous calendars. Over the coming months, I hope to record each of my solutions, with the goal of completing all the previous puzzles just in time for the 2021 calendar to commence."><meta itemprop=datePublished content="2021-01-25T00:00:00+00:00"><meta itemprop=dateModified content="2021-01-25T00:00:00+00:00"><meta itemprop=wordCount content="499"><meta itemprop=keywords content="Advent-of-Code,Advent-of-Code-2015,Typescript"><meta property="og:url" content="https://eddmann.com/posts/advent-of-code-2015-day-1-not-quite-lisp/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Advent of Code 2015 - Day 1 - Not Quite Lisp"><meta property="og:description" content="This past December, a fellow colleague introduced us to Advent of Code. What initially started out as completing each daily 2020 puzzle in my own time soon turned into a daily obsession, and in turn, an incredible learning experience shared amongst the team.
Having completed the 2020 calendar at the end of last year, over the past couple of weeks we have begun working through the previous calendars. Over the coming months, I hope to record each of my solutions, with the goal of completing all the previous puzzles just in time for the 2021 calendar to commence."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-25T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-25T00:00:00+00:00"><meta property="article:tag" content="Advent-of-Code"><meta property="article:tag" content="Advent-of-Code-2015"><meta property="article:tag" content="Typescript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Advent of Code 2015 - Day 1 - Not Quite Lisp"><meta name=twitter:description content="This past December, a fellow colleague introduced us to Advent of Code. What initially started out as completing each daily 2020 puzzle in my own time soon turned into a daily obsession, and in turn, an incredible learning experience shared amongst the team.
Having completed the 2020 calendar at the end of last year, over the past couple of weeks we have begun working through the previous calendars. Over the coming months, I hope to record each of my solutions, with the goal of completing all the previous puzzles just in time for the 2021 calendar to commence."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.0121a173d3063b9541f1f561a87125fd59dc1fac6110b21c15bba8bc141b70b1.css integrity="sha256-ASGhc9MGO5VB8fVhqHEl/VncH6xhELIcFbuovBQbcLE="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/advent-of-code-2015-day-1-not-quite-lisp/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1>Advent of Code 2015 - Day 1 - Not Quite Lisp</h1><time class=post__time>Jan 25, 2021</time></header><main class=prose><p>This past December, a <a href=https://github.com/tomcant rel="external noopener" target=_blank>fellow colleague</a> introduced us to <a href=https://adventofcode.com/ rel="external noopener" target=_blank>Advent of Code</a>.
What initially started out as completing each daily 2020 puzzle <em>in my own time</em> soon turned into a daily obsession, and in turn, an incredible learning experience shared amongst the team.</p><p>Having completed the 2020 calendar at the end of last year, over the past couple of weeks we have begun working through the previous calendars.
Over the coming months, I hope to record each of my solutions, with the goal of completing all the previous puzzles just in time for the 2021 calendar to commence.</p><h2 id=part-1>Part 1</h2><p>And so the journey begins&mldr;</p><p>The first part of today&rsquo;s puzzle centres around determining what floor Santa will be on based on the supplied directions.
Parsing the input is trivial, but as we have the power of TypeScript behind us, we can also provide an element of type-safety.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>Direction</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Up</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;(&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Down</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;)&#39;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>parseDirections</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Direction</span>[] <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  [...<span style=color:#a6e22e>input</span>].<span style=color:#a6e22e>filter</span>((<span style=color:#a6e22e>d</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>d</span> <span style=color:#66d9ef>is</span> <span style=color:#a6e22e>Direction</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>    Object.<span style=color:#a6e22e>values</span>(<span style=color:#a6e22e>Direction</span>).<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>d</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>Direction</span>)
</span></span><span style=display:flex><span>  );
</span></span></code></pre></div><p>In this instance, we simply remove any invalid directions that do not conform to our expected input.
Alternatively, we could have thrown an exception so as to not silently ignore invalid input.</p><p>With the input now parsed into an expected form, we can determine which floor Santa will end up on.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part1</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>parseDirections</span>(<span style=color:#a6e22e>input</span>).<span style=color:#a6e22e>reduce</span>(
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>floor</span>, <span style=color:#a6e22e>direction</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>floor</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>direction</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>Direction</span>.<span style=color:#a6e22e>Up</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  );
</span></span></code></pre></div><p>This can be achieved using a single reduction that keeps track of what floor Santa is currently on.
Once we have reduced over all the directions, we can return the resulting floor 🌟.</p><p>Upon reflection of my initial solution, I noticed that this could be simplified into just subtracting the total <em>Down</em> directions from the <em>Up</em> directions.
Opting for the <code>split</code> method over the <code>RegExp</code> method to count occurrences, you would usually be required to decrement the result by one to get the correct answer.
However, using the same method for both cancels this out for the final answer.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part1</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;(&#39;</span>).<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;)&#39;</span>).<span style=color:#a6e22e>length</span>;
</span></span></code></pre></div><h2 id=part-2>Part 2</h2><p>In the second part of today&rsquo;s puzzle, we are asked to answer a different question based on the same supplied input.
We are now required to work out at which direction&rsquo;s position (one-indexed) Santa first enters the basement (<code>-1</code>).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part2</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>floor</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>position</span>, <span style=color:#a6e22e>direction</span>] <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>parseDirections</span>(<span style=color:#a6e22e>input</span>).<span style=color:#a6e22e>entries</span>()) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>floor</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>direction</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>Direction</span>.<span style=color:#a6e22e>Up</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>floor</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>position</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#39;Santa never enters the basement&#39;</span>);
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>To solve this problem, I opted to replace the reduction with a conventional <em>for loop</em>, which allows us to return the first time we see Santa enter the basement (negative floor value).
As the array index supplied by <code>Array.prototype.entries()</code> is zero-indexed, we are required to increment this value by one to produce the desired position 🌟.</p></main><footer class=post__tags><a href=/archive/tag/advent-of-code>advent-of-code</a><a href=/archive/tag/advent-of-code-2015>advent-of-code-2015</a><a href=/archive/tag/typescript>typescript</a></footer></article></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;setTimeout(()=>{const s=window.pageYOffset;n.classList.toggle("is-sticky",t>s),t=s,e=!1},500),e=!0})})()</script></body></html>