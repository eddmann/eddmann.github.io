<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Using For-Comprehensions in Scala - Edd Mann</title>
<meta name=description content="Discover how to utilise for-comprehensions in Scala to write cleaner, more efficient code with functional programming techniques, complete with examples and practical applications."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Using For-Comprehensions in Scala"><meta itemprop=description content="Scala can be a very deceptive language, as type inference is a good example of this. Another less understood example that you will soon be introduced to upon closer exploration of the language is the ‘for-comprehension’. The first point I wish to highlight is that in Scala everything is an expression which returns a value, even if this be Unit (which is equivalent to nothing). This is a fundamental design principle of Scala which allows for productive use of its functional nature. In an imperative manner, for example, we have become very accustomed to declaring and assigning a default value, only to reassign it with another if a condition is met on the next line. Due to the expressive nature of the language, this can instead be condensed into one line, immutably and as a result is less prone to error."><meta itemprop=datePublished content="2013-12-11T00:00:00+00:00"><meta itemprop=dateModified content="2013-12-11T00:00:00+00:00"><meta itemprop=wordCount content="1037"><meta itemprop=keywords content="Scala,Functional-Programming"><meta property="og:url" content="https://eddmann.com/posts/using-for-comprehensions-in-scala/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Using For-Comprehensions in Scala"><meta property="og:description" content="Scala can be a very deceptive language, as type inference is a good example of this. Another less understood example that you will soon be introduced to upon closer exploration of the language is the ‘for-comprehension’. The first point I wish to highlight is that in Scala everything is an expression which returns a value, even if this be Unit (which is equivalent to nothing). This is a fundamental design principle of Scala which allows for productive use of its functional nature. In an imperative manner, for example, we have become very accustomed to declaring and assigning a default value, only to reassign it with another if a condition is met on the next line. Due to the expressive nature of the language, this can instead be condensed into one line, immutably and as a result is less prone to error."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-12-11T00:00:00+00:00"><meta property="article:modified_time" content="2013-12-11T00:00:00+00:00"><meta property="article:tag" content="Scala"><meta property="article:tag" content="Functional-Programming"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using For-Comprehensions in Scala"><meta name=twitter:description content="Scala can be a very deceptive language, as type inference is a good example of this. Another less understood example that you will soon be introduced to upon closer exploration of the language is the ‘for-comprehension’. The first point I wish to highlight is that in Scala everything is an expression which returns a value, even if this be Unit (which is equivalent to nothing). This is a fundamental design principle of Scala which allows for productive use of its functional nature. In an imperative manner, for example, we have become very accustomed to declaring and assigning a default value, only to reassign it with another if a condition is met on the next line. Due to the expressive nature of the language, this can instead be condensed into one line, immutably and as a result is less prone to error."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.6c18b9cbfe138a24784e64860eaa9d70076170f03c68d8be3b3f1ae99e51df9f.css integrity="sha256-bBi5y/4TiiR4TmSGDqqdcAdhcPA8aNi+Oz8a6Z5R358="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/using-for-comprehensions-in-scala/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1>Using For-Comprehensions in Scala</h1><time class=post__time>Dec 11, 2013</time></header><main class=prose><p>Scala can be a very deceptive language, as type inference is a good example of this.
Another less understood example that you will soon be introduced to upon closer exploration of the language is the &lsquo;for-comprehension&rsquo;.
The first point I wish to highlight is that in Scala everything is an expression which returns a value, even if this be Unit (which is equivalent to nothing).
This is a fundamental design principle of Scala which allows for productive use of its functional nature.
In an imperative manner, for example, we have become very accustomed to declaring and assigning a default value, only to reassign it with another if a condition is met on the next line.
Due to the expressive nature of the language, this can instead be condensed into one line, immutably and as a result is less prone to error.</p><h2 id=simple-expressions>Simple Expressions</h2><p>Below are a couple of simple for-comprehension examples which use ranges, and in the case of the second one, a condition to filter the result.
The resulting value is a <a href=http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.Vector rel="external noopener" target=_blank>Vector</a> which is the default implementation of an immutable indexed sequence in Scala - chosen as it has a good balance between selection and update speed.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#66d9ef>&lt;-</span> <span style=color:#ae81ff>10</span> until <span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span><span style=color:#f92672>))</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Vector(10, 8, 6, 4, 2)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#66d9ef>&lt;-</span> <span style=color:#ae81ff>1</span> to <span style=color:#ae81ff>10</span> <span style=color:#66d9ef>if</span> i <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Vector(2, 4, 6, 8, 10)
</span></span></span></code></pre></div><p>At a birds-eye view, for-comprehensions look and react like their imperative for-each counterparts, however, they can do so much more.
If you have had any experience with Python comprehensions, you will be pleasantly surprised at their similarities.
Not only can you iterate over a single collection, but you can also iterate over collections within collections.
You can do this whilst also including filters and, subsequently, like the &lsquo;if-expression&rsquo; example, yield (return) new immutable collections.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>i <span style=color:#66d9ef>&lt;-</span> <span style=color:#ae81ff>1</span> to <span style=color:#ae81ff>10</span><span style=color:#f92672>;</span> j <span style=color:#66d9ef>&lt;-</span> <span style=color:#ae81ff>1</span> until i<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> <span style=color:#f92672>(</span>i<span style=color:#f92672>,</span> j<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span><span style=color:#ae81ff>1</span> to <span style=color:#ae81ff>10</span><span style=color:#f92672>).</span>flatMap<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>    x <span style=color:#66d9ef>=&gt;</span> <span style=color:#f92672>(</span><span style=color:#ae81ff>1</span> until x<span style=color:#f92672>).</span>map<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>        y <span style=color:#66d9ef>=&gt;</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>,</span> y<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Vector((2,1), (3,1), (3,2), ...)
</span></span></span></code></pre></div><p>What blew my mind when I was first explained this in the <a href=http://www.coursera.org/course/progfun rel="external noopener" target=_blank>Functional Programming Principles in Scala</a> course was that all this added functionality simply reduces down into familiar higher-order &lsquo;map&rsquo;, &lsquo;flatMap&rsquo; and &lsquo;withFilter&rsquo; chained function calls.
The two above examples both evaluate to the same result, and in fact the first one is rewritten internally by the compiler into the second one (try &lsquo;scala -Xprint:typer $filename&rsquo;).
So in essence, it simply is syntactic sugar over already tried and tested functional concepts.
In the case of an expression that does not yield a meaningful result (Unit), the compiler will instead rewrite this to use a &lsquo;foreach&rsquo; method call.</p><p>I should backtrack a little and just recap on what a higher-order function actually is.
Simply put, they are functions that accept another function as a parameter or return a function as their value.</p><h2 id=a-contrived-example>A Contrived Example</h2><p>I will now demonstrate these comprehensions in a more defined example.
What better time to discuss basketball?
Below I am creating a case class (which for this purpose saves me having to define getters and setters) for an individual player, and then creating the starting line-up for the Heat.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>case</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Player</span><span style=color:#f92672>(</span>name<span style=color:#66d9ef>:</span> <span style=color:#66d9ef>String</span><span style=color:#f92672>,</span> position<span style=color:#66d9ef>:</span> <span style=color:#66d9ef>String</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> heat <span style=color:#66d9ef>=</span> <span style=color:#a6e22e>List</span><span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Player</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Mario Chamlers&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;PG&#34;</span><span style=color:#f92672>),</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Player</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Dwayne Wade&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;SG&#34;</span><span style=color:#f92672>),</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Player</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;LeBron Jame&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;SF&#34;</span><span style=color:#f92672>),</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Player</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Udonis Haslem&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;PF&#34;</span><span style=color:#f92672>),</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Player</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Chris Bosh&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;C&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>With the line-up now ready, I am going to filter the players into their respective positions.
As you can see below, I have purposely used different means of producing the same result, with regard to the centre only returning the first item.
The two last examples use the discussed &lsquo;withFilter&rsquo; method for the first time.
When a filter is added, instead of running the familiar &lsquo;filter&rsquo; method over all items at that time, a view (projection) is generated which returns a type-compatible wrapper around the collection.
The wrapper allows Scala to delay evaluation of the condition until the last moment (lazy evaluation).
This makes it a feasible way of chaining multiple filters together without the fear of redundant iteration steps in-between.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>val</span> guards <span style=color:#66d9ef>=</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>player <span style=color:#66d9ef>&lt;-</span> heat <span style=color:#66d9ef>if</span> player<span style=color:#f92672>.</span>position endsWith <span style=color:#e6db74>&#34;G&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> player<span style=color:#f92672>.</span>name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> forwards <span style=color:#66d9ef>=</span> heat
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>withFilter<span style=color:#f92672>(</span><span style=color:#66d9ef>_</span><span style=color:#f92672>.</span>position endsWith <span style=color:#e6db74>&#34;F&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>map<span style=color:#f92672>(</span><span style=color:#66d9ef>_</span><span style=color:#f92672>.</span>name<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> centre <span style=color:#66d9ef>=</span> heat
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>withFilter<span style=color:#f92672>(</span>player <span style=color:#66d9ef>=&gt;</span> player<span style=color:#f92672>.</span>position <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;C&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>map<span style=color:#f92672>(</span>player <span style=color:#66d9ef>=&gt;</span> player<span style=color:#f92672>.</span>name<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>head
</span></span></code></pre></div><p>Now that we know the team, it is time to generate some game statistics to work with.
Below I am using a for-comprehension to create an empty score-sheet (player name and score tuples), which I then call &lsquo;map&rsquo; on to return random point totals for three different games.
All three examples highlight different ways to use a tuple in a map context and then return the game statistics.
To tally up the results for all the games, we concatenate the collections together and then use the &lsquo;groupBy&rsquo; method (similar in-kind to SQL) on the player&rsquo;s name.
From this step, we map these names to the total summation of the player&rsquo;s game scores.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>val</span> scoreSheet <span style=color:#66d9ef>=</span> <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#a6e22e>Player</span><span style=color:#f92672>(</span>name<span style=color:#f92672>,</span> <span style=color:#66d9ef>_</span><span style=color:#f92672>)</span> <span style=color:#66d9ef>&lt;-</span> heat<span style=color:#f92672>)</span> <span style=color:#66d9ef>yield</span> <span style=color:#f92672>(</span>name<span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> points <span style=color:#66d9ef>=</span> util<span style=color:#f92672>.</span><span style=color:#a6e22e>Random</span><span style=color:#f92672>.</span>nextInt<span style=color:#f92672>(</span><span style=color:#ae81ff>30</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> vsThunder <span style=color:#66d9ef>=</span> scoreSheet map <span style=color:#f92672>{</span> <span style=color:#66d9ef>case</span> <span style=color:#f92672>(</span>p<span style=color:#f92672>,</span> <span style=color:#66d9ef>_</span><span style=color:#f92672>)</span> <span style=color:#66d9ef>=&gt;</span> <span style=color:#f92672>(</span>p<span style=color:#f92672>,</span> points<span style=color:#f92672>)</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> vsCeltics <span style=color:#66d9ef>=</span> scoreSheet map <span style=color:#f92672>{</span> s <span style=color:#66d9ef>=&gt;</span> <span style=color:#f92672>(</span>s<span style=color:#f92672>.</span>_1<span style=color:#f92672>,</span> points<span style=color:#f92672>)</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> vsLakers <span style=color:#66d9ef>=</span> scoreSheet map <span style=color:#f92672>{</span> sheet <span style=color:#66d9ef>=&gt;</span> <span style=color:#66d9ef>val</span> <span style=color:#f92672>(</span>p<span style=color:#f92672>,</span> <span style=color:#66d9ef>_</span><span style=color:#f92672>)</span> <span style=color:#66d9ef>=</span> sheet<span style=color:#f92672>;</span> <span style=color:#f92672>(</span>p<span style=color:#f92672>,</span> points<span style=color:#f92672>)</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> totalScores <span style=color:#66d9ef>=</span> <span style=color:#f92672>(</span>vsThunder <span style=color:#f92672>++</span> vsCeltics <span style=color:#f92672>++</span> vsLakers<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>groupBy<span style=color:#f92672>(</span><span style=color:#66d9ef>_</span><span style=color:#f92672>.</span>_1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>mapValues<span style=color:#f92672>(</span><span style=color:#66d9ef>_</span><span style=color:#f92672>.</span>map<span style=color:#f92672>(</span><span style=color:#66d9ef>_</span><span style=color:#f92672>.</span>_2<span style=color:#f92672>).</span>sum<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Map(Mario Chamlers -&gt; 38, Udonis Haslem -&gt; 32, LeBron Jame -&gt; 72, Chris Bosh -&gt; 52, Dwayne Wade -&gt; 44)
</span></span></span></code></pre></div><p>Finally, I wish to display the point totals in an easy-to-read format.
Returned from our total scores computation is a <a href=http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.Map rel="external noopener" target=_blank>Map</a> which I would now like to be sorted by the total score.
As a basic Map does not have a total order, we must convert it into a list and then, once successfully sorted, clean up the output to display neatly.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span>totalScores
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>toList
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>sortBy<span style=color:#f92672>(</span><span style=color:#66d9ef>_</span><span style=color:#f92672>.</span>_2<span style=color:#f92672>)</span> <span style=color:#75715e>// sort by ASC score
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>.</span>map <span style=color:#f92672>{</span> <span style=color:#66d9ef>case</span> <span style=color:#f92672>(</span>p<span style=color:#f92672>,</span> s<span style=color:#f92672>)</span> <span style=color:#66d9ef>=&gt;</span> p <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; [&#34;</span> <span style=color:#f92672>+</span> s <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;]&#34;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>mkString<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;\n&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Udonis Haslem [32]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Mario Chamlers [38]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Dwayne Wade [44]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Chris Bosh [52]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// LeBron Jame [72]
</span></span></span></code></pre></div><h2 id=resources>Resources</h2><ul><li><a href=http://tataryn.net/2011/10/whats-in-a-scala-for-comprehension/ rel="external noopener" target=_blank>What is in a Scala For Comprehension?</a></li><li><a href=http://tataryn.net/2011/10/learning-scala-learn-the-fundamentals-first/ rel="external noopener" target=_blank>Learning Scala? Learn the Fundamentals First</a></li><li><a href=http://daily-scala.blogspot.co.uk/2010/01/matching-in-for-comprehensions.html rel="external noopener" target=_blank>Matching in for-comprehensions</a></li></ul></main><footer class=post__tags><a href=/archive/tag/scala>scala</a><a href=/archive/tag/functional-programming>functional-programming</a></footer></article></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;const s=window.pageYOffset;window.requestAnimationFrame(()=>{n.classList.toggle("is-sticky",t>s),t=s,e=!1}),e=!0})})()</script></body></html>