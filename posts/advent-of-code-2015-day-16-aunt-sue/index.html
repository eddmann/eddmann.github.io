<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Advent of Code 2015 - Day 16 - Aunt Sue - Edd Mann</title>
<meta name=description content="Solving the Advent of Code 2015 Day 16 puzzle using TypeScript."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Advent of Code 2015 - Day 16 - Aunt Sue"><meta itemprop=description content="On the sixteenth day of Advent of Code 2015, we are tasked with working out which Aunt Sue (there are 500!?) sent us a gift, so we can send them a thank you card."><meta itemprop=datePublished content="2021-02-09T00:00:00+00:00"><meta itemprop=dateModified content="2021-02-09T00:00:00+00:00"><meta itemprop=wordCount content="438"><meta itemprop=keywords content="Advent-of-Code,Advent-of-Code-2015,Typescript"><meta property="og:url" content="https://eddmann.com/posts/advent-of-code-2015-day-16-aunt-sue/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Advent of Code 2015 - Day 16 - Aunt Sue"><meta property="og:description" content="On the sixteenth day of Advent of Code 2015, we are tasked with working out which Aunt Sue (there are 500!?) sent us a gift, so we can send them a thank you card."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-09T00:00:00+00:00"><meta property="article:modified_time" content="2021-02-09T00:00:00+00:00"><meta property="article:tag" content="Advent-of-Code"><meta property="article:tag" content="Advent-of-Code-2015"><meta property="article:tag" content="Typescript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Advent of Code 2015 - Day 16 - Aunt Sue"><meta name=twitter:description content="On the sixteenth day of Advent of Code 2015, we are tasked with working out which Aunt Sue (there are 500!?) sent us a gift, so we can send them a thank you card."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.baab6396a366fd74d3313a1564d960d606740e4ac77db11beb667cfa8dbf5b25.css integrity="sha256-uqtjlqNm/XTTMToVZNlg1gZ0DkrHfbEb62Z8+o2/WyU="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/advent-of-code-2015-day-16-aunt-sue/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.c886797fe1c76f3a5cace46b687d1d56b58c9e0df4f37c62bffbcda7eb40fce8.js integrity="sha256-yIZ5f+HHbzpcrORraH0dVrWMng3083xiv/vNp+tA/Og=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:advent-of-code-2015-day-16-aunt-sue>Advent of Code 2015 - Day 16 - Aunt Sue</h1><time datetime=2021-02-09T00:00:00Z class=time>Feb 9, 2021</time></header><main class=u-prose><p>On the sixteenth day of Advent of Code 2015, we are tasked with working out which Aunt Sue (there are 500!?) sent us a gift, so we can send them a thank you card.</p><h2 id=part-1>Part 1</h2><p>For part one, we are provided with a list of all the Aunt Sues (identified 1-500) and <em>things</em> that we remember about each one.
We have been gifted a <em>My First Crime Scene Analysis Machine</em>, so we are able to get readings from the provided wrapping paper.
To determine which Aunt Sue sent the gift, we must compare these readings with all the properties we know about them.</p><p>To begin, we parse the input into a form we can subsequently work with.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Aunt</span> <span style=color:#f92672>=</span> { <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>number</span>; <span style=color:#a6e22e>properties</span><span style=color:#f92672>:</span> { [<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>]<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> } };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>parseAunts</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Aunt</span>[] <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;\n&#39;</span>).<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>line</span> <span style=color:#f92672>=&gt;</span> ({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>toInt</span>(<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/\d+/</span>)[<span style=color:#ae81ff>0</span>]),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>properties</span>: <span style=color:#66d9ef>Object.fromEntries</span>(
</span></span><span style=display:flex><span>      [...<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>matchAll</span>(<span style=color:#e6db74>/(\w+): (\d+)/g</span>)].<span style=color:#a6e22e>map</span>(([<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span>]) <span style=color:#f92672>=&gt;</span> [
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>k</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>toInt</span>(<span style=color:#a6e22e>v</span>),
</span></span><span style=display:flex><span>      ])
</span></span><span style=display:flex><span>    ),
</span></span><span style=display:flex><span>  }));
</span></span></code></pre></div><p>With each Aunt&rsquo;s properties now parsed, we move on to creating several number-based comparator <a href=https://en.wikipedia.org/wiki/Currying rel="external noopener" target=_blank>curried</a> functions, which will come in handy going forward.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Comparator</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>value</span>: <span style=color:#66d9ef>number</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>boolean</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>equalTo</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Comparator</span> <span style=color:#f92672>=&gt;</span> (<span style=color:#a6e22e>y</span>: <span style=color:#66d9ef>number</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lessThan</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Comparator</span> <span style=color:#f92672>=&gt;</span> (<span style=color:#a6e22e>y</span>: <span style=color:#66d9ef>number</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>greaterThan</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>number</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Comparator</span> <span style=color:#f92672>=&gt;</span> (<span style=color:#a6e22e>y</span>: <span style=color:#66d9ef>number</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>x</span>;
</span></span></code></pre></div><p>In doing this, we are then able to provide the supplied reading and comparator logic to a function that will find the given Aunt who matches all these conditions.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>findAuntWithReadings</span> <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aunts</span>: <span style=color:#66d9ef>Aunt</span>[],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>readings</span><span style=color:#f92672>:</span> { [<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>Comparator</span> }
</span></span><span style=display:flex><span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Aunt</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aunts</span>.<span style=color:#a6e22e>find</span>(({ <span style=color:#a6e22e>properties</span> }) <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>    Object.<span style=color:#a6e22e>entries</span>(<span style=color:#a6e22e>properties</span>).<span style=color:#a6e22e>every</span>(([<span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span>]) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>readings</span>[<span style=color:#a6e22e>k</span>](<span style=color:#a6e22e>v</span>))
</span></span><span style=display:flex><span>  );
</span></span></code></pre></div><p>The function above iterates over all the supplied Aunts&rsquo; properties and returns the first one that meets all the readings criteria.
For part one, we are asked to find the Aunt who matches the <em>exact</em> reading values - supplying these readings to the function above returns the desired Aunt&rsquo;s identifier 🌟.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part1</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>findAuntWithReadings</span>(<span style=color:#a6e22e>parseAunts</span>(<span style=color:#a6e22e>input</span>), {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>children</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cats</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>7</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>samoyeds</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>2</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pomeranians</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>akitas</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vizslas</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>goldfish</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>5</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>trees</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cars</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>2</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>perfumes</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>  }).<span style=color:#a6e22e>id</span>;
</span></span></code></pre></div><h2 id=part-2>Part 2</h2><p>For part two, we are required to tweak the readings criteria and supply several greater/less-than comparators in place of the equality checks, as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part2</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>findAuntWithReadings</span>(<span style=color:#a6e22e>parseAunts</span>(<span style=color:#a6e22e>input</span>), {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>children</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cats</span>: <span style=color:#66d9ef>greaterThan</span>(<span style=color:#ae81ff>7</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>samoyeds</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>2</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pomeranians</span>: <span style=color:#66d9ef>lessThan</span>(<span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>akitas</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vizslas</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>goldfish</span>: <span style=color:#66d9ef>lessThan</span>(<span style=color:#ae81ff>5</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>trees</span>: <span style=color:#66d9ef>greaterThan</span>(<span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cars</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>2</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>perfumes</span>: <span style=color:#66d9ef>equalTo</span>(<span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>  }).<span style=color:#a6e22e>id</span>;
</span></span></code></pre></div><p>With these amendments made, we can use the same functions as implemented in part one to return the revised found Aunt&rsquo;s identifier 🌟.</p></main><footer class=post__tags><a href=/archive/tag/advent-of-code>advent-of-code</a><a href=/archive/tag/advent-of-code-2015>advent-of-code-2015</a><a href=/archive/tag/typescript>typescript</a></footer></article><div class="related-posts u-prose"><h3>Related Posts</h3><ul><li><a href=/posts/advent-of-code-2015-day-15-science-for-hungry-people/>Advent of Code 2015 - Day 15 - Science for Hungry People</a></li><li><a href=/posts/advent-of-code-2015-day-14-reindeer-olympics/>Advent of Code 2015 - Day 14 - Reindeer Olympics</a></li><li><a href=/posts/advent-of-code-2015-day-13-knights-of-the-dinner-table/>Advent of Code 2015 - Day 13 - Knights of the Dinner Table</a></li><li><a href=/posts/advent-of-code-2015-day-12-jsabacusframework-io/>Advent of Code 2015 - Day 12 - JSAbacusFramework.io</a></li><li><a href=/posts/advent-of-code-2015-day-11-corporate-policy/>Advent of Code 2015 - Day 11 - Corporate Policy</a></li></ul></div><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>