<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Shunting Yard Implementation in Java - Edd Mann</title>
<meta name=description content="A comprehensive guide to implementing the Shunting Yard algorithm in Java, converting infix expressions to postfix notation with a clear code example and detailed explanation."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Shunting Yard Implementation in Java"><meta itemprop=description content="The Shunting Yard algorithm was developed by the great Edsger Dijkstra as a means to parse an infix mathematical expression into Reverse Polish notation (postfix). Using this notation allows the computer to evaluate the expression in a simple stack-based form, examples of which I have shown in Scala previously. The algorithm itself also uses a stack along with a built-up output string to create the resulting value. Below is an example implementation which only takes into consideration brackets and the four common operator precedences. Although it is possible to evaluate more, including functions and associativity, I decided to keep the implementation simple to better highlight the process."><meta itemprop=datePublished content="2013-12-23T00:00:00+00:00"><meta itemprop=dateModified content="2013-12-23T00:00:00+00:00"><meta itemprop=wordCount content="482"><meta itemprop=keywords content="Java,Algorithms"><meta property="og:url" content="https://eddmann.com/posts/shunting-yard-implementation-in-java/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Shunting Yard Implementation in Java"><meta property="og:description" content="The Shunting Yard algorithm was developed by the great Edsger Dijkstra as a means to parse an infix mathematical expression into Reverse Polish notation (postfix). Using this notation allows the computer to evaluate the expression in a simple stack-based form, examples of which I have shown in Scala previously. The algorithm itself also uses a stack along with a built-up output string to create the resulting value. Below is an example implementation which only takes into consideration brackets and the four common operator precedences. Although it is possible to evaluate more, including functions and associativity, I decided to keep the implementation simple to better highlight the process."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-12-23T00:00:00+00:00"><meta property="article:modified_time" content="2013-12-23T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="article:tag" content="Algorithms"><meta name=twitter:card content="summary"><meta name=twitter:title content="Shunting Yard Implementation in Java"><meta name=twitter:description content="The Shunting Yard algorithm was developed by the great Edsger Dijkstra as a means to parse an infix mathematical expression into Reverse Polish notation (postfix). Using this notation allows the computer to evaluate the expression in a simple stack-based form, examples of which I have shown in Scala previously. The algorithm itself also uses a stack along with a built-up output string to create the resulting value. Below is an example implementation which only takes into consideration brackets and the four common operator precedences. Although it is possible to evaluate more, including functions and associativity, I decided to keep the implementation simple to better highlight the process."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.435d3c5e6e6a6174f1901fdde5091a08730fb7bf65b95f57eca29e78f4fcc327.css integrity="sha256-Q108Xm5qYXTxkB/d5QkaCHMPt79luV9X7KKeePT8wyc="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/shunting-yard-implementation-in-java/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.250e7cf850e958b4272ae208ba50192c2c96e26ebb656d272683894c80f86f20.js integrity="sha256-JQ58+FDpWLQnKuIIulAZLCyW4m67ZW0nJoOJTID4byA=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:shunting-yard-implementation-in-java>Shunting Yard Implementation in Java</h1><time datetime=2013-12-23T00:00:00Z class=published-at>Dec 23, 2013</time></header><main class=u-prose><p>The Shunting Yard algorithm was developed by the great <a href=http://en.wikipedia.org/wiki/Edsger_Dijkstra rel="external noopener" target=_blank>Edsger Dijkstra</a> as a means to parse an infix mathematical expression into Reverse Polish notation (postfix).
Using this notation allows the computer to evaluate the expression in a simple stack-based form, <a href=/posts/reverse-polish-notation-rpn-in-scala/>examples</a> of which I have shown in Scala previously.
The algorithm itself also uses a stack along with a built-up output string to create the resulting value.
Below is an example implementation which only takes into consideration brackets and the four common operator precedences.
Although it is possible to evaluate more, including functions and associativity, I decided to keep the implementation simple to better highlight the process.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> java.util.*;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ShuntingYard</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>enum</span> Operator
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        ADD(1), SUBTRACT(2), MULTIPLY(3), DIVIDE(4);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> precedence;
</span></span><span style=display:flex><span>        Operator(<span style=color:#66d9ef>int</span> p) { precedence <span style=color:#f92672>=</span> p; }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> Map<span style=color:#f92672>&lt;</span>String, Operator<span style=color:#f92672>&gt;</span> ops <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HashMap<span style=color:#f92672>&lt;</span>String, Operator<span style=color:#f92672>&gt;</span>() {{
</span></span><span style=display:flex><span>        put(<span style=color:#e6db74>&#34;+&#34;</span>, Operator.<span style=color:#a6e22e>ADD</span>);
</span></span><span style=display:flex><span>        put(<span style=color:#e6db74>&#34;-&#34;</span>, Operator.<span style=color:#a6e22e>SUBTRACT</span>);
</span></span><span style=display:flex><span>        put(<span style=color:#e6db74>&#34;*&#34;</span>, Operator.<span style=color:#a6e22e>MULTIPLY</span>);
</span></span><span style=display:flex><span>        put(<span style=color:#e6db74>&#34;/&#34;</span>, Operator.<span style=color:#a6e22e>DIVIDE</span>);
</span></span><span style=display:flex><span>    }};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isHigherPrec</span>(String op, String sub)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> (ops.<span style=color:#a6e22e>containsKey</span>(sub) <span style=color:#f92672>&amp;&amp;</span> ops.<span style=color:#a6e22e>get</span>(sub).<span style=color:#a6e22e>precedence</span> <span style=color:#f92672>&gt;=</span> ops.<span style=color:#a6e22e>get</span>(op).<span style=color:#a6e22e>precedence</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>postfix</span>(String infix)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        StringBuilder output <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuilder();
</span></span><span style=display:flex><span>        Deque<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;</span> stack  <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> LinkedList<span style=color:#f92672>&lt;&gt;</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (String token : infix.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#34;\\s&#34;</span>)) {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// operator</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (ops.<span style=color:#a6e22e>containsKey</span>(token)) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>stack.<span style=color:#a6e22e>isEmpty</span>() <span style=color:#f92672>&amp;&amp;</span> isHigherPrec(token, stack.<span style=color:#a6e22e>peek</span>()))
</span></span><span style=display:flex><span>                    output.<span style=color:#a6e22e>append</span>(stack.<span style=color:#a6e22e>pop</span>()).<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>                stack.<span style=color:#a6e22e>push</span>(token);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// left parenthesis</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (token.<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;(&#34;</span>)) {
</span></span><span style=display:flex><span>                stack.<span style=color:#a6e22e>push</span>(token);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// right parenthesis</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (token.<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;)&#34;</span>)) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>stack.<span style=color:#a6e22e>peek</span>().<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;(&#34;</span>))
</span></span><span style=display:flex><span>                    output.<span style=color:#a6e22e>append</span>(stack.<span style=color:#a6e22e>pop</span>()).<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>                stack.<span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>// digit</span>
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>                output.<span style=color:#a6e22e>append</span>(token).<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>stack.<span style=color:#a6e22e>isEmpty</span>())
</span></span><span style=display:flex><span>            output.<span style=color:#a6e22e>append</span>(stack.<span style=color:#a6e22e>pop</span>()).<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39; &#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> output.<span style=color:#a6e22e>toString</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The example implementation above first creates an enumerated type called <code>Operator</code> which stores the increasing precedence of the four operators.
Following this, a map is initialised using <a href=http://c2.com/cgi/wiki?DoubleBraceInitialization rel="external noopener" target=_blank>double bracket syntax</a>, pairing the enumerated type with its symbol equivalent.
Supplying the postfix method with an infix string causes the string to be split on whitespace and each token to be evaluated.
The next step depends on the subject matter.
If the token is a digit, it is added to the output string immediately.
If, on the other hand, it is a left parenthesis, it is added to the stack and kept there until a corresponding right parenthesis appears.
When this is the case, the contents of the stack are appended to the output string until the left parenthesis is reached.
If the token is an operator, each operator on the stack is appended to the output string until the operator at the top of the stack has a lower precedence than the token.
Once this condition is met, the token is pushed onto the stack.
Finally, the remaining items in the stack are appended to the <code>StringBuilder</code> output, and the resulting string is returned.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>postfix(<span style=color:#e6db74>&#34;( 5 + 7 ) * 2&#34;</span>) <span style=color:#75715e>// 5 7 + 2 *</span>
</span></span><span style=display:flex><span>postfix(<span style=color:#e6db74>&#34;5 + 7 / 2&#34;</span>)     <span style=color:#75715e>// 5 7 2 / +</span>
</span></span></code></pre></div><h2 id=resources>Resources</h2><ul><li><a href=http://andreinc.net/2010/10/05/converting-infix-to-rpn-shunting-yard-algorithm/ rel="external noopener" target=_blank>Converting Infix to RPN</a></li><li><a href="http://www.youtube.com/watch?v=QzVVjboyb0s" rel="external noopener" target=_blank>Shunting Yard Algorithm - Intro and Reverse Polish Notation</a></li><li><a href=http://cs.stackexchange.com/questions/4666/what-is-the-significance-of-reverse-polish-notation rel="external noopener" target=_blank>What is the significance of Reverse Polish notation?</a></li><li><a href=http://c2.com/cgi/wiki?DoubleBraceInitialization rel="external noopener" target=_blank>Double Brace Initialisation</a></li></ul></main><footer class=post-footer><ul class="tags tags--large"><li><a href=/archive/tag/java>java</a></li><li><a href=/archive/tag/algorithms>algorithms</a></li></ul><div class=related><h3 class=related__title>Related Posts</h3><ul class=related__posts><li><a href=/posts/decimal-to-hexadecimal-using-bitwise-bit-shift-operations-in-java/>Decimal to Hexadecimal using Bitwise, Bit Shift Operations in Java</a></li><li><a href=/posts/merge-sort-comparison-in-java-and-scala/>Merge sort comparison in Java and Scala</a></li><li><a href=/posts/implementing-a-stack-in-java-using-arrays-and-linked-lists/>Implementing a Stack in Java using Arrays and Linked Lists</a></li><li><a href=/posts/using-bit-flags-and-enumsets-in-java/>Using Bit Flags and EnumSets in Java</a></li><li><a href=/posts/reverse-polish-notation-rpn-in-scala/>Reverse Polish Notation (RPN) in Scala</a></li></ul></div></footer></article><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>