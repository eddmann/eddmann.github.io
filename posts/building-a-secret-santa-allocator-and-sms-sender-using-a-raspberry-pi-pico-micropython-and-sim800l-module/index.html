<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Building a Secret Santa allocator and SMS sender using a Raspberry Pi Pico/MicroPython and SIM800L module - Edd Mann</title>
<meta name=description content="Learn how to build a Secret Santa allocator and SMS sender using a Raspberry Pi Pico, MicroPython, and a SIM800L module."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Building a Secret Santa allocator and SMS sender using a Raspberry Pi Pico/MicroPython and SIM800L module"><meta itemprop=description content="Over the past couple of years, I have explored several different ways to solve the problem of allocating Secret Santas for members of my family. Having spent a couple of months recently exploring microcontrollers, I decided that this year I would send out automatically allocated Secret Santas via SMS using a Raspberry Pi Pico, MicroPython, and a SIM800L GSM module."><meta itemprop=datePublished content="2021-11-03T00:00:00+00:00"><meta itemprop=dateModified content="2021-11-03T00:00:00+00:00"><meta itemprop=wordCount content="419"><meta itemprop=keywords content="Pico,Micropython,Sms"><meta property="og:url" content="https://eddmann.com/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Building a Secret Santa allocator and SMS sender using a Raspberry Pi Pico/MicroPython and SIM800L module"><meta property="og:description" content="Over the past couple of years, I have explored several different ways to solve the problem of allocating Secret Santas for members of my family. Having spent a couple of months recently exploring microcontrollers, I decided that this year I would send out automatically allocated Secret Santas via SMS using a Raspberry Pi Pico, MicroPython, and a SIM800L GSM module."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-03T00:00:00+00:00"><meta property="article:modified_time" content="2021-11-03T00:00:00+00:00"><meta property="article:tag" content="Pico"><meta property="article:tag" content="Micropython"><meta property="article:tag" content="Sms"><meta name=twitter:card content="summary"><meta name=twitter:title content="Building a Secret Santa allocator and SMS sender using a Raspberry Pi Pico/MicroPython and SIM800L module"><meta name=twitter:description content="Over the past couple of years, I have explored several different ways to solve the problem of allocating Secret Santas for members of my family. Having spent a couple of months recently exploring microcontrollers, I decided that this year I would send out automatically allocated Secret Santas via SMS using a Raspberry Pi Pico, MicroPython, and a SIM800L GSM module."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.0121a173d3063b9541f1f561a87125fd59dc1fac6110b21c15bba8bc141b70b1.css integrity="sha256-ASGhc9MGO5VB8fVhqHEl/VncH6xhELIcFbuovBQbcLE="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1>Building a Secret Santa allocator and SMS sender using a Raspberry Pi Pico/MicroPython and SIM800L module</h1><time class=post__time>Nov 3, 2021</time></header><main class=prose><p>Over the past couple of years, I have explored <a href=/posts/allocating-secret-santas-with-a-substitution-cipher-using-clojure/>several</a> <a href=/posts/allocating-and-notifying-secret-santas-via-email-using-clojure/>different</a> ways to solve the problem of allocating Secret Santas for members of my family.
Having spent a couple of months recently exploring microcontrollers, I decided that this year I would send out automatically allocated Secret Santas via SMS using a Raspberry Pi Pico, MicroPython, and a <a href=https://lastminuteengineers.com/sim800l-gsm-module-arduino-tutorial/ rel="external noopener" target=_blank>SIM800L GSM module</a>.</p><p><picture><source type=image/webp srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/begin_hu_9dc0fd61d4de6dc9.webp><source type=image/jpeg srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/begin_hu_92bffcb1cde61ee2.jpg><img src=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/begin_hu_92bffcb1cde61ee2.jpg alt loading=lazy></picture></p><h2 id=the-build>The Build</h2><p>The system I designed comprised a display (that I had used in a <a href=/posts/building-a-2fa-totp-generator-using-a-raspberry-pi-pico-and-micropython/>previous project</a>), the Raspberry Pi Pico, and a <a href=https://lastminuteengineers.com/sim800l-gsm-module-arduino-tutorial/ rel="external noopener" target=_blank>SIM800L GSM module</a>.
Upon boot, the system reads the supplied <a href=https://github.com/eddmann/pico-secret-santa/blob/main/participants.json.example rel="external noopener" target=_blank><code>participants.json</code></a> file, which contains the participants&rsquo; names and phone numbers.
Once allocation commences, all participants are assigned a Secret Santa, with the resulting allocation notifications being sent out via SMS.
The display is used to report the current status throughout both the allocation and notification phases.
The final solution can be found on <a href=https://github.com/eddmann/pico-secret-santa rel="external noopener" target=_blank>GitHub</a>, with additional usage instructions included.</p><h2 id=the-allocation-process>The Allocation Process</h2><p>I decided to use the same technique I had employed in a previous year&rsquo;s solution to allocate the Secret Santas.
This method applied a brute-force approach, which uniformly shuffled the given participants into pairs, returning the allocations if all pairs met the desired criteria (i.e. not oneself or within an exclusion listing).
Looking through the MicroPython documentation, however, I noticed that no array shuffle functionality was present.
As such, I opted to implement my own <a href=https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle rel="external noopener" target=_blank>Fisherâ€“Yates shuffle</a> algorithm, which performed these capabilities that were lacking from the standard library.
MicroPython does, however, provide some of the high-level Python constructs I have grown accustomed to (such as <code>zip</code> and <code>all</code>), which produced a very succinct <a href=https://github.com/eddmann/pico-secret-santa/blob/main/allocator.py rel="external noopener" target=_blank>end solution</a>.</p><p><picture><source type=image/webp srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/allocation_hu_35d25d556094fd38.webp><source type=image/jpeg srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/allocation_hu_9bbdb0b3c03f661f.jpg><img src=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/allocation_hu_9bbdb0b3c03f661f.jpg alt loading=lazy></picture></p><h2 id=sending-the-sms>Sending the SMS</h2><p>The most interesting part of the entire project was exploring how you could send SMS messages using the Pico.
The SIM800L module is a GSM cellular chip that communicates with the microcontroller via <a href=https://docs.micropython.org/en/latest/library/machine.UART.html rel="external noopener" target=_blank>UART</a>.
I opted to build a <a href=https://github.com/eddmann/pico-secret-santa/blob/main/sim800l.py rel="external noopener" target=_blank>small abstraction</a> within MicroPython around communication with the SIM800L via <code>AT</code> commands.
This abstraction handled the necessary initial configuration setup and connection to the mobile network provider.
Furthermore, it encapsulated the behaviour required to send an SMS to a given phone number.</p><p><picture><source type=image/webp srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/breadboard_hu_f0aaf32efc1ae13e.webp><source type=image/jpeg srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/breadboard_hu_b9eec4e54e4aff9e.jpg><img src=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/breadboard_hu_b9eec4e54e4aff9e.jpg alt loading=lazy></picture></p><h2 id=conclusion>Conclusion</h2><p>This was by far my most enjoyable Secret Santa allocation system to design and build to date.
Having the ability to begin the allocation process using a physical button and subsequently see progress reported on the display was very pleasing.
I really look forward to exploring other ways in which I can use mobile network communication within projects like this in the future.</p><p><picture><source type=image/webp srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/complete_hu_73b57bb23a7cbffe.webp><source type=image/jpeg srcset=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/complete_hu_111806fd4c3e18fc.jpg><img src=/posts/building-a-secret-santa-allocator-and-sms-sender-using-a-raspberry-pi-pico-micropython-and-sim800l-module/complete_hu_111806fd4c3e18fc.jpg alt loading=lazy></picture></p></main><footer class=post__tags><a href=/archive/tag/pico>pico</a><a href=/archive/tag/micropython>micropython</a><a href=/archive/tag/sms>sms</a></footer></article></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;const s=window.pageYOffset;window.requestAnimationFrame(()=>{n.classList.toggle("is-sticky",t>s),t=s,e=!1}),e=!0})})()</script></body></html>