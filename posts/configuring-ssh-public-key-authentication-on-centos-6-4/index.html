<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn how to configure SSH public key authentication on CentOS 6.4 with this comprehensive guide.">

    <title>
        
            Configuring SSH Public Key Authentication on CentOS 6.4 &middot; Edd Mann
        
    </title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles.css">

    <link rel="shortcut icon" href="/favicon.ico">

    <link rel="alternate" href="/rss.xml" title="" type="application/rss+xml">

    

    <script>
        var _gaq=[['_setAccount','UA-32512081-1'],['_setDomainName','eddmann.com'],['_trackPageview']];
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = 'https://ssl.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>

    <body>
        <div class="container content">
            <header class="masthead">
                <h3 class="masthead-title">
                    <a href="/" title="Home">Edd Mann</a>
                    <small><i class="fa fa-code"></i> Developer</small>
                </h3>
                <nav>
                    <a href="https://twitter.com/edd_mann"><i class="fa fa-twitter"></i></a>
                    <a href="https://github.com/eddmann"><i class="fa fa-github"></i></a>
                    <a href="mailto:the@eddmann.com"><i class="fa fa-envelope"></i></a>
                </nav>
                <div class="cf"></div>
            </header>

            <main>
                <article class="post">
    <h1 class="post-title">Configuring SSH Public Key Authentication on CentOS 6.4</h1>
    <time datetime="2013-12-12T00:00:00+00:00" class="post-date">12 Dec 2013</time>
    <p>Having to use password authentication each time you wish to access your server can be a serious pain.
Not only does it require extra keystrokes, it is also less secure and far more susceptible to successful brute-force attacks.</p>



<p>Enter public-key authentication, where you instead use asymmetric cryptography.
The first thing to do is generate a key-pair on your client machine.
You can optionally provide a passphrase to unlock the private key if you so wish.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ssh-keygen <span class="nt">-q</span> <span class="nt">-t</span> rsa <span class="nt">-C</span> <span class="s2">"your@email.com"</span>
</code></pre></div></div>

<p>We now need to add the client’s public key to the list of authorised keys for the server’s specified user.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat</span> ~/.ssh/id_rsa.pub | ssh user@hostname <span class="s2">"cat &gt;&gt; ~/.ssh/authorized_keys"</span>
</code></pre></div></div>

<p>Once this has been successfully copied across, we just need to enable the daemon to use the new form of authentication.
This will be the last time you will have to authenticate via password.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>ssh user@hostname
<span class="nv">$ </span><span class="nb">sudo sed</span> <span class="nt">-i</span> <span class="s2">"s/^</span><span class="se">\#</span><span class="s2">RSAAuthentication.*</span><span class="nv">$/</span><span class="s2">RSAAuthentication yes/g"</span> /etc/ssh/sshd_config
<span class="nv">$ </span><span class="nb">sudo sed</span> <span class="nt">-i</span> <span class="s2">"s/^</span><span class="se">\#</span><span class="s2">PubkeyAuthentication.*</span><span class="nv">$/</span><span class="s2">PubkeyAuthentication yes/g"</span> /etc/ssh/sshd_config
<span class="nv">$ </span><span class="nb">sudo</span> /etc/init.d/sshd restart
</code></pre></div></div>

</article>

            </main>

            <footer class="footer">
                <img src="https://www.gravatar.com/avatar/c5c2978bb14d16460f73399c394b6acd?s=160">
                <ul>
                    <li>Developer at <a href="http://www.mybuilder.com/">MyBuilder</a></li>
                    <li><a href="http://threedevsandamaybe.com/">Three Devs and a Maybe</a> podcast co-host</li>
                    <li>All ramblings can be found in the <a href="/archive/">Archive</a></li>
                </ul>
                <div class="cf"></div>
            </footer>
        </div>
    </body>
</html>
