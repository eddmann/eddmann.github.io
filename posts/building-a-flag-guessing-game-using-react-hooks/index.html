<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Building a Flag Guessing Game using React Hooks - Edd Mann</title>
<meta name=description content="Learn how to build an interactive flag guessing game using React Hooks, Create React App, and Styled Components. Exploring game logic, state management, and deployment with GitHub Pages."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Building a Flag Guessing Game using React Hooks"><meta itemprop=description content="Since React Hooks were announced last autumn, Iâ€™ve been looking at ways to experiment with them in a couple of small side-projects. In this post we will create a simple flag guessing game (called Fun with Flags) leveraging Create React App, Styled Components and React Hooks. Along the way we will highlight use-cases for several different hooks such as State, Effect and Memoization. Finally, we will automate the process of publishing the compiled game to GitHub Pages."><meta itemprop=datePublished content="2019-05-03T00:00:00+00:00"><meta itemprop=dateModified content="2019-05-03T00:00:00+00:00"><meta itemprop=wordCount content="1118"><meta itemprop=keywords content="React,Javascript"><meta property="og:url" content="https://eddmann.com/posts/building-a-flag-guessing-game-using-react-hooks/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Building a Flag Guessing Game using React Hooks"><meta property="og:description" content="Since React Hooks were announced last autumn, Iâ€™ve been looking at ways to experiment with them in a couple of small side-projects. In this post we will create a simple flag guessing game (called Fun with Flags) leveraging Create React App, Styled Components and React Hooks. Along the way we will highlight use-cases for several different hooks such as State, Effect and Memoization. Finally, we will automate the process of publishing the compiled game to GitHub Pages."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-05-03T00:00:00+00:00"><meta property="article:modified_time" content="2019-05-03T00:00:00+00:00"><meta property="article:tag" content="React"><meta property="article:tag" content="Javascript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Building a Flag Guessing Game using React Hooks"><meta name=twitter:description content="Since React Hooks were announced last autumn, Iâ€™ve been looking at ways to experiment with them in a couple of small side-projects. In this post we will create a simple flag guessing game (called Fun with Flags) leveraging Create React App, Styled Components and React Hooks. Along the way we will highlight use-cases for several different hooks such as State, Effect and Memoization. Finally, we will automate the process of publishing the compiled game to GitHub Pages."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.4c8b66c005db4efc68625e4ceed190f2dc110d342d05ffb19ba924cc13c3ef15.css integrity="sha256-TItmwAXbTvxoYl5M7tGQ8twRDTQtBf+xm6kkzBPD7xU="><link rel=preload as=image href=/assets/x.svg crossorigin=anonymous><link rel=preload as=image href=/assets/github.svg crossorigin=anonymous><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/building-a-flag-guessing-game-using-react-hooks/><script>document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")</script><script src=/script.min.da71ac9c7b8bd4e644618df0ab735aed1393aad3cb5e5c57e5adc300fe7c8209.js integrity="sha256-2nGsnHuL1OZEYY3wq3Na7ROTqtPLXlxX5a3DAP58ggk=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:building-a-flag-guessing-game-using-react-hooks>Building a Flag Guessing Game using React Hooks</h1><time datetime=2019-05-03T00:00:00Z class=published-at>May 3, 2019</time></header><main class=u-prose><p>Since <a href=https://reactjs.org/docs/hooks-intro.html rel="external noopener" target=_blank>React Hooks</a> were announced last autumn, I&rsquo;ve been looking at ways to experiment with them in a couple of small side-projects.
In this post we will create a simple flag guessing game (called <a href=https://eddmann.com/fun-with-flags/>Fun with Flags</a>) leveraging <a href=https://facebook.github.io/create-react-app/ rel="external noopener" target=_blank>Create React App</a>, <a href=https://www.styled-components.com/ rel="external noopener" target=_blank>Styled Components</a> and React Hooks.
Along the way we will highlight use-cases for several different hooks such as State, Effect and Memoization.
Finally, we will automate the process of publishing the compiled game to <a href=https://pages.github.com/ rel="external noopener" target=_blank>GitHub Pages</a>.</p><p><picture><source type=image/webp srcset="/posts/building-a-flag-guessing-game-using-react-hooks/sheldon_hu_4eef36968c87e911.webp 350w, /posts/building-a-flag-guessing-game-using-react-hooks/sheldon_hu_385e1fc88f11c95f.webp 700w, /posts/building-a-flag-guessing-game-using-react-hooks/sheldon_hu_e105953a336ad8e8.webp 1280w"><source type=image/jpeg srcset="/posts/building-a-flag-guessing-game-using-react-hooks/sheldon_hu_d8ebc40fc47cbac5.jpg 350w, /posts/building-a-flag-guessing-game-using-react-hooks/sheldon_hu_473967e48f334b98.jpg 700w, /posts/building-a-flag-guessing-game-using-react-hooks/sheldon_hu_72c8b89ca71b9809.jpg 1280w"><img src=/posts/building-a-flag-guessing-game-using-react-hooks/sheldon_hu_473967e48f334b98.jpg alt="Sheldon Cooper Presents: Fun with Flags" loading=lazy></picture></p><h2 id=setup>Setup</h2><p>The first step we need to take is to initialise the project, including the required <code>styled-components</code> dependency.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ yarn create react-app fun-with-flags
</span></span><span style=display:flex><span>$ cd fun-with-flags <span style=color:#f92672>&amp;&amp;</span> yarn add styled-components
</span></span></code></pre></div><p>The game will take advantage of the <a href=https://emojipedia.org/flags/ rel="external noopener" target=_blank>flag emojis</a>, which we store in <a href=https://github.com/eddmann/fun-with-flags/blob/master/src/flags.js rel="external noopener" target=_blank><code>src/flags.js</code></a> along with their associated name.
If you are following along with this post, you can find the completed listing within the <a href=https://github.com/eddmann/fun-with-flags/blob/master/src/flags.js rel="external noopener" target=_blank>GitHub repository</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> [
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>emoji</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;ðŸ‡¬ðŸ‡§&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;United Kingdom&#39;</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>];
</span></span></code></pre></div><h2 id=the-answer-box>The Answer Box</h2><p>It is good practise to decompose an application into smaller, high cohesion units - of which we can then compose together to provide the desired behaviour.
With this in mind, we will begin by focusing our attention on the special input field (located within <a href=https://github.com/eddmann/fun-with-flags/blob/master/src/AnswerBox.js rel="external noopener" target=_blank><code>src/AnswerBox.js</code></a>) that will be used to manage the user&rsquo;s entered answer.</p><p>We start off by defining some key styled building blocks used to create the overall <code>AnswerBox</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span>, { <span style=color:#a6e22e>useState</span>, <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useMemo</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>styled</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;styled-components&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Form</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>styled</span>.<span style=color:#a6e22e>form</span><span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  margin-bottom: 1em;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Placeholder</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>styled</span>.<span style=color:#a6e22e>span</span><span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  font-family: courier;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  padding: 0 0 0.2em 0.2em;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  font-size: 2em;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  letter-spacing: 0.2em;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>HiddenInput</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>styled</span>.<span style=color:#a6e22e>input</span><span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  opacity: 0;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  position: absolute;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  width: 100%;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  top: 0;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  right: 0;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  bottom: 0;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  left: 0;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  caret-color: transparent;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &amp;:focus + </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>Placeholder</span><span style=color:#e6db74>}</span><span style=color:#e6db74> {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    box-shadow: 0 0 5px rgba(81, 203, 238, 1);
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>;
</span></span></code></pre></div><p>The input will be presented to the user in placeholder form, using a <code>_</code> to indicate the presence of a character and including any word separators.
To achieve this we will use a hidden text input within a form, displaying the resulting input value within a styled span element presented to the user.
In doing this we can still take advantage of the form lifecycle events (i.e. <code>onChange</code> and <code>onSubmit</code>).</p><p>Thank you to <a href=https://github.com/sebastianplsim rel="external noopener" target=_blank>Sebastian Sim</a> for this idea!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>toPlaceholder</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>answer</span>) =&gt;
</span></span><span style=display:flex><span>  [...<span style=color:#a6e22e>value</span>].<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>placeholder</span>, <span style=color:#66d9ef>char</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>placeholder</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>&#39;_&#39;</span>, <span style=color:#66d9ef>char</span>);
</span></span><span style=display:flex><span>  }, <span style=color:#a6e22e>answer</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>/[^\s]/g</span>, <span style=color:#e6db74>&#39;_&#39;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>normalise</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>value</span> =&gt; <span style=color:#a6e22e>value</span>.<span style=color:#a6e22e>toUpperCase</span>().<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>/[^A-Z]/g</span>, <span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> ({ <span style=color:#a6e22e>answer</span>, <span style=color:#a6e22e>onCorrect</span>, <span style=color:#a6e22e>onIncorrect</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>setValue</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>useEffect</span>(() =&gt; <span style=color:#a6e22e>setValue</span>(<span style=color:#e6db74>&#39;&#39;</span>), [<span style=color:#a6e22e>answer</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>handleChange</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>event</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setValue</span>(<span style=color:#a6e22e>normalise</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>));
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>handleSubmit</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>event</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>preventDefault</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>value</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>normalise</span>(<span style=color:#a6e22e>answer</span>) <span style=color:#f92672>?</span> <span style=color:#a6e22e>onCorrect</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>onIncorrect</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setValue</span>(<span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>placeholder</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useMemo</span>(() =&gt; <span style=color:#a6e22e>toPlaceholder</span>(<span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>answer</span>), [<span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>answer</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>maxLength</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useMemo</span>(() =&gt; <span style=color:#a6e22e>normalise</span>(<span style=color:#a6e22e>answer</span>).<span style=color:#a6e22e>length</span>, [<span style=color:#a6e22e>answer</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Form</span> <span style=color:#a6e22e>onSubmit</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleSubmit</span>}<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>HiddenInput</span> <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleChange</span>} <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>value</span>} <span style=color:#a6e22e>maxLength</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>maxLength</span>} <span style=color:#a6e22e>autoFocus</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Placeholder</span><span style=color:#f92672>&gt;</span>{<span style=color:#a6e22e>placeholder</span>}<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Placeholder&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Form&gt;</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>Looking at the implementation above, you can see that we manage the user&rsquo;s answer with a State hook.
This value is reset if the desired answer changes (i.e. a new flag is displayed) using an Effect hook.
From here, both calculating the actual answer&rsquo;s length and generating the placeholder for the current state are <a href=https://en.wikipedia.org/wiki/Referential_transparency rel="external noopener" target=_blank>referentially transparent</a> operations, and as such can be cached using the Memoization hook.
Finally, when the user submits the form (i.e. hits enter), we check the value and, based on its correctness, invoke the provided <code>onCorrect</code>/<code>onIncorrect</code> callbacks.</p><h2 id=managing-the-game>Managing the Game</h2><p>With the <code>AnswerBox</code> now implemented, we can move on to developing the encompassing <code>Game</code> management component within <a href=https://github.com/eddmann/fun-with-flags/blob/master/src/Game.js rel="external noopener" target=_blank><code>src/Game.js</code></a>.
In a similar manner to before, we define several styled building blocks that will be used to present the overall game to the user.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span>, { <span style=color:#a6e22e>useState</span>, <span style=color:#a6e22e>useEffect</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>styled</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;styled-components&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>AnswerBox</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./AnswerBox&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>CentreWrapper</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>styled</span>.<span style=color:#a6e22e>div</span><span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  margin: 0;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  padding: 0;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  overflow: hidden;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  position: absolute;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  width: 100%;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  height: 100%;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  display: flex;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  justify-content: center;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  align-items: center;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  flex-direction: column;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  font-family: sans-serif;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Flag</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>styled</span>(({ <span style=color:#a6e22e>flag</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>div</span> {...<span style=color:#a6e22e>props</span>}<span style=color:#f92672>&gt;</span>{<span style=color:#a6e22e>flag</span>}<span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/div&gt;)`</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>font</span><span style=color:#f92672>-</span><span style=color:#a6e22e>size</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span><span style=color:#a6e22e>em</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>line</span><span style=color:#f92672>-</span><span style=color:#a6e22e>height</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span><span style=color:#a6e22e>em</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>padding</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>margin</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#e6db74>`;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>const Results = styled(({ score, attempts, ...props }) =&gt; (
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &lt;div {...props}&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Score: &lt;span&gt;{score}&lt;/span&gt;, Attempts: &lt;span&gt;{attempts}&lt;/span&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>))`</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>display</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>block</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>font</span><span style=color:#f92672>-</span><span style=color:#a6e22e>size</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1.5</span><span style=color:#a6e22e>em</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>span</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>font</span><span style=color:#f92672>-</span><span style=color:#a6e22e>weight</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>bold</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span><span style=color:#e6db74>`;
</span></span></span></code></pre></div><p>This component manages the current score, attempts and flag ordering - delegating to the <code>AnswerBox</code> for presenting and verifying the answer input.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>shuffle</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span> =&gt; [...<span style=color:#a6e22e>arr</span>].<span style=color:#a6e22e>sort</span>(() =&gt; <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>-</span> Math.<span style=color:#a6e22e>random</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>props</span> =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>flags</span>, <span style=color:#a6e22e>setFlags</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(() =&gt; <span style=color:#a6e22e>shuffle</span>(<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>flags</span>));
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>score</span>, <span style=color:#a6e22e>setScore</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>attempts</span>, <span style=color:#a6e22e>setAttempts</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>attempts</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>nextFlag</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setFlags</span>(<span style=color:#a6e22e>flags</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>flags</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#ae81ff>1</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>shuffle</span>(<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>flags</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setAttempts</span>(<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>attempts</span>);
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onCorrect</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setScore</span>(<span style=color:#a6e22e>score</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nextFlag</span>();
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onIncorrect</span> <span style=color:#f92672>=</span> () =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>attempts</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>setAttempts</span>(<span style=color:#a6e22e>attempts</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setScore</span>(Math.<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>score</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nextFlag</span>();
</span></span><span style=display:flex><span>  };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> [{ <span style=color:#a6e22e>emoji</span>, <span style=color:#a6e22e>name</span> }] <span style=color:#f92672>=</span> <span style=color:#a6e22e>flags</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>CentreWrapper</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Flag</span> <span style=color:#a6e22e>flag</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>emoji</span>} <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>AnswerBox</span> <span style=color:#a6e22e>answer</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>name</span>} <span style=color:#a6e22e>onCorrect</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onCorrect</span>} <span style=color:#a6e22e>onIncorrect</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onIncorrect</span>} <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Results</span> <span style=color:#a6e22e>score</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>score</span>} <span style=color:#a6e22e>attempts</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>attempts</span>} <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/CentreWrapper&gt;</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>When the game is started (or all flags are exhausted) we reset the <code>flags</code> state to a shuffled ordering of the provided listing.
In the case of the <code>flags</code> initial state, we only wish to shuffle the provided flags once at the beginning (not wastefully on each render).
To do this, we wrap the behaviour in a function which ensures that the operation is only called when required during the component&rsquo;s lifecycle.
From here, based on the decision made within the <code>AnswerBox</code> component, we update the user&rsquo;s attempts and score accordingly.</p><p>Finally, we are able to compose all these pieces together into a <a href=https://github.com/eddmann/fun-with-flags/blob/master/src/index.js rel="external noopener" target=_blank><code>src/index.js</code></a> entry point.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ReactDOM</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;react-dom&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Game</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./Game&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>flags</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./flags&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ReactDOM</span>.<span style=color:#a6e22e>render</span>(<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Game</span> <span style=color:#a6e22e>flags</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>flags</span>} <span style=color:#a6e22e>attempts</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>3</span>} <span style=color:#f92672>/&gt;</span>, document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;root&#39;</span>));
</span></span></code></pre></div><p>We can then run <code>yarn start</code> to experiment with the game locally ðŸŽ‰.</p><h2 id=publishing-to-github-pages>Publishing to GitHub Pages</h2><p>Now that we are happy with the game locally, the next step is to share it with the masses ðŸ˜Ž.
This can be easily achieved via compiling a production build locally and publishing it to GitHub Pages.
We can even automate this process by adding the following <a href=https://github.com/tschaub/gh-pages rel="external noopener" target=_blank><code>gh-pages</code></a> dependency.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ yarn add gh-pages
</span></span></code></pre></div><p>With this dependency added, include the following <code>scripts</code> actions into the <code>package.json</code> file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;predeploy&#34;</span>: <span style=color:#e6db74>&#34;yarn build&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;deploy&#34;</span>: <span style=color:#e6db74>&#34;gh-pages -d build&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Now, whenever you wish to publish a new version of the game, simply run the following command and <code>gh-pages</code> will build and commit a new version to the <code>gh-pages</code> branch.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ yarn deploy
</span></span></code></pre></div><p>This in turn will publish a new static version of the game to GitHub Pages, accessible in my case via <a href=https://eddmann.github.io/fun-with-flags rel="external noopener" target=_blank><code>https://eddmann.github.io/fun-with-flags</code></a> and, as I have my apex DNS record pointing to GitHub, at <a href=https://eddmann.com/fun-with-flags/><code>https://eddmann.com/fun-with-flags</code></a>.</p><p><picture><source type=image/webp srcset="/posts/building-a-flag-guessing-game-using-react-hooks/fun-with-flags_hu_3bae4a55b34ef793.webp 350w, /posts/building-a-flag-guessing-game-using-react-hooks/fun-with-flags_hu_eebc6e59cd3849c8.webp 700w, /posts/building-a-flag-guessing-game-using-react-hooks/fun-with-flags_hu_ce07e0801d3a1f6a.webp 1400w"><source type=image/jpeg srcset="/posts/building-a-flag-guessing-game-using-react-hooks/fun-with-flags_hu_db523613da96bd6e.jpg 350w, /posts/building-a-flag-guessing-game-using-react-hooks/fun-with-flags_hu_9ce415651a31d62a.jpg 700w, /posts/building-a-flag-guessing-game-using-react-hooks/fun-with-flags_hu_e8f84f29ead54b7d.jpg 1400w"><img src=/posts/building-a-flag-guessing-game-using-react-hooks/fun-with-flags_hu_9ce415651a31d62a.jpg alt="Fun with Flags" loading=lazy></picture></p></main><footer class=post-footer><ul class="tags tags--large"><li><a href=/archive/tag/react>react</a></li><li><a href=/archive/tag/javascript>javascript</a></li></ul><div class=related><h3 class=related__title>Related Posts</h3><ul class=related__posts><li><a href=/posts/mince-pie-challenge-building-a-serverless-restful-api-and-react-client/>Mince Pie Challenge: Building a Serverless RESTful API and React Client</a></li><li><a href=/posts/handling-time-dependent-state-recording-using-react/>Handling Time-Dependent State Recording using React</a></li><li><a href=/posts/asynchronous-calls-within-flux/>Asynchronous Calls within Flux</a></li><li><a href=/posts/mince-pie-challenge-viewing-and-removing-mince-pies-with-amazon-dynamodb/>Mince Pie Challenge: Viewing and Removing Mince Pies with Amazon DynamoDB</a></li><li><a href=/posts/mince-pie-challenge-adding-and-listing-mince-pies-with-amazon-dynamodb/>Mince Pie Challenge: Adding and Listing Mince Pies with Amazon DynamoDB</a></li></ul></div></footer></article><div class="podcast-ad u-overlay-wrapper"><div class=podcast-ad__artwork><img src=https://compiledconversations.com/album-art.jpg alt="Compiled Conversations podcast album art" class=podcast-ad__artwork-image></div><div class=podcast-ad__content><h3 class=podcast-ad__title>Compiled Conversations</h3><p class=podcast-ad__description>Podcast I host, featuring conversations with the people shaping software and technology.</p><div class=podcast-ad__link>Check out the show</a></div><a class=u-overlay href=https://compiledconversations.com target=_blank>Listen to Compiled Conversations</a></div><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>