<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Mapping, Filtering and Reducing in PHP - Edd Mann</title>
<meta name=description content="Learn how to use PHP higher-order functions map, filter, and reduce to simplify and improve code readability."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Mapping, Filtering and Reducing in PHP"><meta itemprop=description content="Over the past couple of years, I have transitioned from boilerplate-heavy, imperative code to using the more intuitive map, filter, and reduce higher-order functions. In this article, I hope to highlight the transformation that occurs, along with the simplification, when moving away from the imperative and onto the declarative. We shall be performing a simple process that transforms a collection of user entries into a filtered collection of their names. Although trivial in nature, it is a great way to highlight the power of the paradigm shift."><meta itemprop=datePublished content="2016-03-02T00:00:00+00:00"><meta itemprop=dateModified content="2016-03-02T00:00:00+00:00"><meta itemprop=wordCount content="531"><meta itemprop=keywords content="Php,Functional-Programming"><meta property="og:url" content="https://eddmann.com/posts/mapping-filtering-and-reducing-in-php/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Mapping, Filtering and Reducing in PHP"><meta property="og:description" content="Over the past couple of years, I have transitioned from boilerplate-heavy, imperative code to using the more intuitive map, filter, and reduce higher-order functions. In this article, I hope to highlight the transformation that occurs, along with the simplification, when moving away from the imperative and onto the declarative. We shall be performing a simple process that transforms a collection of user entries into a filtered collection of their names. Although trivial in nature, it is a great way to highlight the power of the paradigm shift."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-03-02T00:00:00+00:00"><meta property="article:modified_time" content="2016-03-02T00:00:00+00:00"><meta property="article:tag" content="Php"><meta property="article:tag" content="Functional-Programming"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mapping, Filtering and Reducing in PHP"><meta name=twitter:description content="Over the past couple of years, I have transitioned from boilerplate-heavy, imperative code to using the more intuitive map, filter, and reduce higher-order functions. In this article, I hope to highlight the transformation that occurs, along with the simplification, when moving away from the imperative and onto the declarative. We shall be performing a simple process that transforms a collection of user entries into a filtered collection of their names. Although trivial in nature, it is a great way to highlight the power of the paradigm shift."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.38ebe85b7a95b0ed5f3ec14e02666c3ac5666f40e38576814a1bdbdf87e4f477.css integrity="sha256-OOvoW3qVsO1fPsFOAmZsOsVmb0DjhXaBShvb34fk9Hc="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/mapping-filtering-and-reducing-in-php/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.1052707861642a4eb63c758a2c16cbf5deb3b3ea2582f09f743a7d4c55fb9828.js integrity="sha256-EFJweGFkKk62PHWKLBbL9d6zs+olgvCfdDp9TFX7mCg=" defer></script></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1 class=transition-between-pages style=--id:mapping-filtering-and-reducing-in-php>Mapping, Filtering and Reducing in PHP</h1><time class=post__time>Mar 2, 2016</time></header><main class=prose><p>Over the past couple of years, I have transitioned from boilerplate-heavy, imperative code to using the more intuitive <code>map</code>, <code>filter</code>, and <code>reduce</code> higher-order functions.
In this article, I hope to highlight the transformation that occurs, along with the simplification, when moving away from the imperative and onto the declarative.
We shall be performing a simple process that transforms a collection of user entries into a filtered collection of their names.
Although trivial in nature, it is a great way to highlight the power of the paradigm shift.</p><p>Below you will find the initial collection of user entries we wish to process.
The objective is to create a function that returns only the users&rsquo; names while excluding the one associated with a supplied ID.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$users <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    [ <span style=color:#e6db74>&#39;id&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;name&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Joe&#39;</span> ],
</span></span><span style=display:flex><span>    [ <span style=color:#e6db74>&#39;id&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;name&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Bob&#39;</span> ],
</span></span><span style=display:flex><span>    [ <span style=color:#e6db74>&#39;id&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;name&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Sally&#39;</span> ],
</span></span><span style=display:flex><span>];
</span></span></code></pre></div><h2 id=imperative-approach>Imperative Approach</h2><p>Looking at this problem with an imperative mindset leads us to iterating through the collection, adding names to a temporary collection that match the desired predicate.
This boilerplate code is sprinkled throughout many codebases, and although correct, I feel it can be improved in its intent and expression.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getNames</span>(<span style=color:#66d9ef>array</span> $users, $excludeId)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    $names <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>foreach</span> ($users <span style=color:#66d9ef>as</span> $u) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ($u[<span style=color:#e6db74>&#39;id&#39;</span>] <span style=color:#f92672>!=</span> $excludeId) {
</span></span><span style=display:flex><span>            $names[] <span style=color:#f92672>=</span> $u[<span style=color:#e6db74>&#39;name&#39;</span>];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $names;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=mapping-and-filtering>Mapping and Filtering</h2><p>The first higher-order functions we shall use to tackle this problem are <code>map</code> and <code>filter</code>.
As their names suggest, mapping over a collection applies the given function to each of its elements, whereas filtering returns the matching elements based on a supplied predicate function.
Using these two functions, we are able to break apart the problem very clearly into its two individual pieces.
Unfortunately, within PHP, we do have to provide quite verbose declarations, but I feel the intent is still more clearly highlighted.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getNames</span>(<span style=color:#66d9ef>array</span> $users, $excludeId)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    $filtered <span style=color:#f92672>=</span> <span style=color:#a6e22e>array_filter</span>($users, <span style=color:#66d9ef>function</span> ($u) <span style=color:#66d9ef>use</span> ($excludeId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $u[<span style=color:#e6db74>&#39;id&#39;</span>] <span style=color:#f92672>!=</span> $excludeId;
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>array_map</span>(<span style=color:#66d9ef>function</span> ($u) { <span style=color:#66d9ef>return</span> $u[<span style=color:#e6db74>&#39;name&#39;</span>]; }, $filtered);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=reducing>Reducing</h2><p>The solution above is a significant improvement, in my opinion, but it can be made even better with the introduction of <code>reduce</code>.
Simply put, <code>reduce</code> can be considered the backbone of both <code>map</code> and <code>filter</code>, as both functions can be created from it.
In this instance, the supplied function is applied to each of the elements in the collection.
This may sound similar to <code>map</code>; however, the addition of an accumulator value (initial value supplied), which is passed and returned upon each element application, allows you to craft the result you desire.
Using this higher-order function provides far more flexibility in the resulting transformation.
Whereas mapping focuses on transforming individual elements, and filtering removes elements from the collection, reducing can do both and much more.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getNames</span>(<span style=color:#66d9ef>array</span> $users, $excludeId)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>array_reduce</span>($users, <span style=color:#66d9ef>function</span> ($acc, $u) <span style=color:#66d9ef>use</span> ($excludeId) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> ($u[<span style=color:#e6db74>&#39;id&#39;</span>] <span style=color:#f92672>==</span> $excludeId) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> $acc;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>array_merge</span>($acc, [ $u[<span style=color:#e6db74>&#39;name&#39;</span>] ]);
</span></span><span style=display:flex><span>    }, []);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Again, PHP&rsquo;s syntax leaves a lot to be desired regarding the declaration of lambda functions and immutable arrays.
However, I believe the intent of the code has been significantly improved from the original imperative solution.</p></main><footer class=post__tags><a href=/archive/tag/php>php</a><a href=/archive/tag/functional-programming>functional-programming</a></footer></article><div class="related-posts prose"><h3>Related Posts</h3><ul><li><a href=/posts/cons-lists-and-folds-in-php/>Cons Lists and Folds in PHP</a></li><li><a href=/posts/the-y-fixed-point-combinator-in-php/>The Y (Fixed-Point) Combinator in PHP</a></li><li><a href=/posts/using-anonymous-functions-lambdas-and-closures-in-php/>Using Anonymous Functions (Lambdas) and Closures in PHP</a></li><li><a href=/posts/using-partial-application-in-php/>Using Partial Application in PHP</a></li><li><a href=/posts/insertion-sort-in-clojure/>Insertion Sort in Clojure</a></li></ul></div><div class=scroll-watcher></div></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div><button class=theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>