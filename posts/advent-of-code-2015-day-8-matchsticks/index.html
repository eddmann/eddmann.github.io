<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Advent of Code 2015 - Day 8 - Matchsticks - Edd Mann</title>
<meta name=description content="Solving the Advent of Code 2015 Day 8 puzzle using TypeScript."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Advent of Code 2015 - Day 8 - Matchsticks"><meta itemprop=description content="On the eighth day of Advent of Code 2015, Santa wants to know how much space his newly digitised list will take up when stored."><meta itemprop=datePublished content="2021-02-01T00:00:00+00:00"><meta itemprop=dateModified content="2021-02-01T00:00:00+00:00"><meta itemprop=wordCount content="325"><meta itemprop=keywords content="Advent-of-Code,Advent-of-Code-2015,Typescript"><meta property="og:url" content="https://eddmann.com/posts/advent-of-code-2015-day-8-matchsticks/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Advent of Code 2015 - Day 8 - Matchsticks"><meta property="og:description" content="On the eighth day of Advent of Code 2015, Santa wants to know how much space his newly digitised list will take up when stored."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-01T00:00:00+00:00"><meta property="article:modified_time" content="2021-02-01T00:00:00+00:00"><meta property="article:tag" content="Advent-of-Code"><meta property="article:tag" content="Advent-of-Code-2015"><meta property="article:tag" content="Typescript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Advent of Code 2015 - Day 8 - Matchsticks"><meta name=twitter:description content="On the eighth day of Advent of Code 2015, Santa wants to know how much space his newly digitised list will take up when stored."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.38ebe85b7a95b0ed5f3ec14e02666c3ac5666f40e38576814a1bdbdf87e4f477.css integrity="sha256-OOvoW3qVsO1fPsFOAmZsOsVmb0DjhXaBShvb34fk9Hc="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/advent-of-code-2015-day-8-matchsticks/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.1052707861642a4eb63c758a2c16cbf5deb3b3ea2582f09f743a7d4c55fb9828.js integrity="sha256-EFJweGFkKk62PHWKLBbL9d6zs+olgvCfdDp9TFX7mCg=" defer></script></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1 class=transition-between-pages style=--id:advent-of-code-2015-day-8-matchsticks>Advent of Code 2015 - Day 8 - Matchsticks</h1><time datetime=2021-02-01T00:00:00Z class=post__time>Feb 1, 2021</time></header><main class=prose><p>On the eighth day of Advent of Code 2015, Santa wants to know how much space his newly digitised list will take up when stored.</p><h2 id=part-1>Part 1</h2><p>Based on the supplied input list of string literals, part one asks us to tally up the additional space this literal interpretation takes as opposed to their in-memory representations.
When parsing each string literal, we need to take into consideration any escape sequences and hexadecimal notation.
This problem feels like it could be solved using Regular Expression patterns; however, upon examination, we may be able to harness a couple of built-in JavaScript functions to do a lot of the heavy lifting.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part1</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span>
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;\n&#39;</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>reduce</span>(
</span></span><span style=display:flex><span>      (<span style=color:#a6e22e>total</span>, <span style=color:#a6e22e>line</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> eval(<span style=color:#a6e22e>line</span>).<span style=color:#a6e22e>length</span>),
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    );
</span></span></code></pre></div><p>Using the <em>dreaded</em> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval rel="external noopener" target=_blank><code>eval</code></a> function, we are able to leverage JavaScript in evaluating each provided string literal, returning to us the in-memory representation.
Although I would refrain from using this approach with untrusted input, in a small puzzle like this, it provides a very succinct solution.
Reducing over the input listing, tallying up the length differences along the way, we are able to produce the desired answer ðŸŒŸ.</p><h2 id=part-2>Part 2</h2><p>In part two, we are asked to apply an additional encoding on the provided string literals, returning the total difference between the encoded and original input.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>part2</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>number</span> <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span>
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;\n&#39;</span>)
</span></span><span style=display:flex><span>    .<span style=color:#a6e22e>reduce</span>(
</span></span><span style=display:flex><span>      (<span style=color:#a6e22e>total</span>, <span style=color:#a6e22e>line</span>) <span style=color:#f92672>=&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>line</span>).<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>length</span>),
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    );
</span></span></code></pre></div><p>Again, we are able to harness another built-in function, <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify rel="external noopener" target=_blank><code>JSON.stringify</code></a>, which will provide us with the desired escape sequences and quotes.
Reducing over the input listing, we can tally up these length differences and return the answer we require ðŸŒŸ.</p><p>To summarise, today&rsquo;s solutions depend greatly on functionality provided by the chosen language (JavaScript).
In the future, I hope to spend a little more time exploring how we could leverage Regular Expressions to solve this problem in a more translatable manner.</p></main><footer class=post__tags><a href=/archive/tag/advent-of-code>advent-of-code</a><a href=/archive/tag/advent-of-code-2015>advent-of-code-2015</a><a href=/archive/tag/typescript>typescript</a></footer></article><div class="related-posts prose"><h3>Related Posts</h3><ul><li><a href=/posts/advent-of-code-2015-day-7-some-assembly-required/>Advent of Code 2015 - Day 7 - Some Assembly Required</a></li><li><a href=/posts/advent-of-code-2015-day-6-probably-a-fire-hazard/>Advent of Code 2015 - Day 6 - Probably a Fire Hazard</a></li><li><a href=/posts/advent-of-code-2015-day-5-doesnt-he-have-intern-elves-for-this/>Advent of Code 2015 - Day 5 - Doesn't He Have Intern-Elves For This?</a></li><li><a href=/posts/advent-of-code-2015-day-4-the-ideal-stocking-stuffer/>Advent of Code 2015 - Day 4 - The Ideal Stocking Stuffer</a></li><li><a href=/posts/advent-of-code-2015-day-3-perfectly-spherical-houses-in-a-vacuum/>Advent of Code 2015 - Day 3 - Perfectly Spherical Houses in a Vacuum</a></li></ul></div><div class=scroll-watcher></div></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div><button class=theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>