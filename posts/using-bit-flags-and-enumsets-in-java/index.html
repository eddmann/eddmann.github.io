<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Using Bit Flags and EnumSets in Java - Edd Mann</title>
<meta name=description content="Discover the benefits and trade-offs between Bit Flags and EnumSets in Java with practical examples and performance insights."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Using Bit Flags and EnumSets in Java"><meta itemprop=description content="This post examines two popular methods for handling multiple boolean values in Java. It explores the traditional approach of using bit flags and compares it with the more modern EnumSet implementation. By analysing both techniques, you will gain insights into their performance, readability, and type safety."><meta itemprop=datePublished content="2013-12-20T00:00:00+00:00"><meta itemprop=dateModified content="2013-12-20T00:00:00+00:00"><meta itemprop=wordCount content="752"><meta itemprop=keywords content="Java"><meta property="og:url" content="https://eddmann.com/posts/using-bit-flags-and-enumsets-in-java/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Using Bit Flags and EnumSets in Java"><meta property="og:description" content="This post examines two popular methods for handling multiple boolean values in Java. It explores the traditional approach of using bit flags and compares it with the more modern EnumSet implementation. By analysing both techniques, you will gain insights into their performance, readability, and type safety."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-12-20T00:00:00+00:00"><meta property="article:modified_time" content="2013-12-20T00:00:00+00:00"><meta property="article:tag" content="Java"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Bit Flags and EnumSets in Java"><meta name=twitter:description content="This post examines two popular methods for handling multiple boolean values in Java. It explores the traditional approach of using bit flags and compares it with the more modern EnumSet implementation. By analysing both techniques, you will gain insights into their performance, readability, and type safety."><meta name=twitter:site content="@edd_mann"><link rel="preload stylesheet" as=style href=/css/style.min.6c18b9cbfe138a24784e64860eaa9d70076170f03c68d8be3b3f1ae99e51df9f.css integrity="sha256-bBi5y/4TiiR4TmSGDqqdcAdhcPA8aNi+Oz8a6Z5R358="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/using-bit-flags-and-enumsets-in-java/></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><div class=site-header__mobile-navigation-button aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></div><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1>Using Bit Flags and EnumSets in Java</h1><time class=post__time>Dec 20, 2013</time></header><main class=prose><p>This post examines two popular methods for handling multiple boolean values in Java.
It explores the traditional approach of using bit flags and compares it with the more modern EnumSet implementation.
By analysing both techniques, you will gain insights into their performance, readability, and type safety.</p><h2 id=bit-flags>Bit Flags</h2><p>Bit flags, commonly referred to as bit fields, are an efficient way of storing several related boolean values in a single primitive type.
Internally represented in binary, you can decide on how large the storage type needs to be - for example, a Java integer will provide you with space for 31 flags.
Being a 32-bit type, one might assume access to 32 flags; however, because it is a signed value, the most significant bit is reserved to store its sign.</p><p>Flags are typically stored as public constants within the related class.
For example, the <a href=http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html rel="external noopener" target=_blank>Pattern</a> class includes the flags &lsquo;CASE_INSENSITIVE&rsquo; and &lsquo;MULTILINE&rsquo; to alter match criteria.
Setting the values as incremental powers of 2 allows the user to compose multiple constants together using the | (OR) operator to achieve the desired flag combination.
The implementer can then determine the method&rsquo;s execution based on the passed-in flags by checking for the presence of the constant value using the & (AND) operator as a bit mask.
This idea can be more meaningfully described using the example below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> UPPERCASE <span style=color:#f92672>=</span> 1;  <span style=color:#75715e>// 0001</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> REVERSE   <span style=color:#f92672>=</span> 2;  <span style=color:#75715e>// 0010</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> FULL_STOP <span style=color:#f92672>=</span> 4;  <span style=color:#75715e>// 0100</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> EMPHASISE <span style=color:#f92672>=</span> 8;  <span style=color:#75715e>// 1000</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> ALL_OPTS  <span style=color:#f92672>=</span> 15; <span style=color:#75715e>// 1111</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>format</span>(String value, <span style=color:#66d9ef>int</span> flags)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ((flags <span style=color:#f92672>&amp;</span> UPPERCASE) <span style=color:#f92672>==</span> UPPERCASE) value <span style=color:#f92672>=</span> value.<span style=color:#a6e22e>toUpperCase</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ((flags <span style=color:#f92672>&amp;</span> REVERSE) <span style=color:#f92672>==</span> REVERSE) value <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuffer(value).<span style=color:#a6e22e>reverse</span>().<span style=color:#a6e22e>toString</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ((flags <span style=color:#f92672>&amp;</span> FULL_STOP) <span style=color:#f92672>==</span> FULL_STOP) value <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#34;.&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> ((flags <span style=color:#f92672>&amp;</span> EMPHASISE) <span style=color:#f92672>==</span> EMPHASISE) value <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;~*~ &#34;</span> <span style=color:#f92672>+</span> value <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; ~*~&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> value;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>As you can see, I have defined five different constants, each with specific values corresponding to different binary representations.
Regarding the final constant, which I set to the decimal 15, it essentially fills in all of the previously created value combinations.
Within the method block, I check for the presence of each flag by masking the &lsquo;flags&rsquo; parameter with the constant value.
If the resulting value is equal to the specified constant, we can then act upon this condition.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Joe&#34;</span>, UPPERCASE); <span style=color:#75715e>// JOE</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Joe&#34;</span>, REVERSE); <span style=color:#75715e>// eoJ</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Joe&#34;</span>, FULL_STOP <span style=color:#f92672>|</span> EMPHASISE); <span style=color:#75715e>// ~*~ Joe. ~*~</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Joe&#34;</span>, ALL_OPTS); <span style=color:#75715e>// ~*~ EOJ. ~*~</span>
</span></span></code></pre></div><p>Above are a few examples of the method being used in multiple ways.
The third example shows the ability to compose values from multiple flags (binary representation 1100).</p><h2 id=enumsets>EnumSets</h2><p>Traditional use of bit flags has been around for many years and has been a very performant storage mechanism (especially in graphics rendering).
However, the resulting code can be hard to understand.
Another glaring issue is that they are not type-safe, thereby nullifying the benefits provided by a type system.
EnumSets, however, have the efficiency of bit flags, but without the loss of safety that the type system provides.
It is worth noting that there is another Set implementation called <a href=http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html rel="external noopener" target=_blank>BitSet</a> which provides similar functionality.
It is recommended that if you desire a flagging system such as the use-case described, an EnumSet will provide the best results.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>enum</span> Flag {
</span></span><span style=display:flex><span>    UPPERCASE, REVERSE, FULL_STOP, EMPHASISE;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> EnumSet<span style=color:#f92672>&lt;</span>Flag<span style=color:#f92672>&gt;</span> ALL_OPTS <span style=color:#f92672>=</span> EnumSet.<span style=color:#a6e22e>allOf</span>(Flag.<span style=color:#a6e22e>class</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>format</span>(String value, EnumSet<span style=color:#f92672>&lt;</span>Flag<span style=color:#f92672>&gt;</span> flags)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (flags.<span style=color:#a6e22e>contains</span>(Flag.<span style=color:#a6e22e>UPPERCASE</span>)) value <span style=color:#f92672>=</span> value.<span style=color:#a6e22e>toUpperCase</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (flags.<span style=color:#a6e22e>contains</span>(Flag.<span style=color:#a6e22e>REVERSE</span>)) value <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StringBuffer(value).<span style=color:#a6e22e>reverse</span>().<span style=color:#a6e22e>toString</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (flags.<span style=color:#a6e22e>contains</span>(Flag.<span style=color:#a6e22e>FULL_STOP</span>)) value <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#34;.&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (flags.<span style=color:#a6e22e>contains</span>(Flag.<span style=color:#a6e22e>EMPHASISE</span>)) value <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;~*~ &#34;</span> <span style=color:#f92672>+</span> value <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; ~*~&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> value;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In the case of an EnumSet, you must first define your enumerated type, which encapsulates all the desired constants.
Similar to how I defined the &lsquo;ALL_OPTS&rsquo; constant in the first example, I have created an EnumSet consisting of all constants in the Flag type.
EnumSet implements the Set interface, so you can use it as you would a typical set, calling &lsquo;contains&rsquo; on it to query the presence of a certain flag.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Sally&#34;</span>, EnumSet.<span style=color:#a6e22e>of</span>(Flag.<span style=color:#a6e22e>UPPERCASE</span>)); <span style=color:#75715e>// SALLY</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Sally&#34;</span>, EnumSet.<span style=color:#a6e22e>of</span>(Flag.<span style=color:#a6e22e>REVERSE</span>)); <span style=color:#75715e>// yllaS</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Sally&#34;</span>, EnumSet.<span style=color:#a6e22e>of</span>(Flag.<span style=color:#a6e22e>FULL_STOP</span>, Flag.<span style=color:#a6e22e>EMPHASISE</span>)); <span style=color:#75715e>// ~*~ Sally. ~*~</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>format(<span style=color:#e6db74>&#34;Sally&#34;</span>, Flag.<span style=color:#a6e22e>ALL_OPTS</span>); <span style=color:#75715e>// ~*~ YLLAS. ~*~</span>
</span></span></code></pre></div><p>Above are a few examples of using EnumSet in place of a typical bit flag system.
As you can see, we are able to achieve all the examples that were possible in the previous use-case.
This approach is more readable and less prone to error.</p></main><footer class=post__tags><a href=/archive/tag/java>java</a></footer></article></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div></footer><script>(function(){document.querySelector(".site-header__mobile-navigation-button").addEventListener("click",e=>{document.documentElement.classList.toggle("mobile-navigation-open"),e.target.setAttribute("aria-expanded",e.target.getAttribute("aria-expanded")==="false"?"true":"false")});const n=document.querySelector(".site-header");let t=window.pageYOffset,e=!1;window.addEventListener("scroll",()=>{if(e)return;const s=window.pageYOffset;window.requestAnimationFrame(()=>{n.classList.toggle("is-sticky",t>s),t=s,e=!1}),e=!0})})()</script></body></html>