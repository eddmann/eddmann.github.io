<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Scheduling EC2 Instances using Lambda and CloudWatch Events - Edd Mann</title>
<meta name=description content="Learn how to schedule EC2 instances using AWS Lambda and CloudWatch Events to optimise costs and automate server management."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Scheduling EC2 Instances using Lambda and CloudWatch Events"><meta itemprop=description content="Over the past couple of months, MyBuilder has been transitioning from primarily a dedicated server stack (with orchestration through Puppet) to cloud infrastructure by way of Amazon Web Services. We have been a proponent of AWS for quite some time, taking advantage of services such as S3 and CloudFront in our current setup. We are also not unfamiliar with EC2, spreading some of our application requirements onto several instances over the past couple of years. However, we have not been fully embracing the ‘Cloud nature’ of the product and are still treating each server as something between a Snowflake and a Phoenix."><meta itemprop=datePublished content="2017-11-24T00:00:00+00:00"><meta itemprop=dateModified content="2017-11-24T00:00:00+00:00"><meta itemprop=wordCount content="375"><meta itemprop=keywords content="Aws,Ec2,Lambda,Cloudwatch,Serverless"><meta property="og:url" content="https://eddmann.com/posts/scheduling-ec2-instances-using-lambda-and-cloudwatch-events/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Scheduling EC2 Instances using Lambda and CloudWatch Events"><meta property="og:description" content="Over the past couple of months, MyBuilder has been transitioning from primarily a dedicated server stack (with orchestration through Puppet) to cloud infrastructure by way of Amazon Web Services. We have been a proponent of AWS for quite some time, taking advantage of services such as S3 and CloudFront in our current setup. We are also not unfamiliar with EC2, spreading some of our application requirements onto several instances over the past couple of years. However, we have not been fully embracing the ‘Cloud nature’ of the product and are still treating each server as something between a Snowflake and a Phoenix."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-11-24T00:00:00+00:00"><meta property="article:modified_time" content="2017-11-24T00:00:00+00:00"><meta property="article:tag" content="Aws"><meta property="article:tag" content="Ec2"><meta property="article:tag" content="Lambda"><meta property="article:tag" content="Cloudwatch"><meta property="article:tag" content="Serverless"><meta name=twitter:card content="summary"><meta name=twitter:title content="Scheduling EC2 Instances using Lambda and CloudWatch Events"><meta name=twitter:description content="Over the past couple of months, MyBuilder has been transitioning from primarily a dedicated server stack (with orchestration through Puppet) to cloud infrastructure by way of Amazon Web Services. We have been a proponent of AWS for quite some time, taking advantage of services such as S3 and CloudFront in our current setup. We are also not unfamiliar with EC2, spreading some of our application requirements onto several instances over the past couple of years. However, we have not been fully embracing the ‘Cloud nature’ of the product and are still treating each server as something between a Snowflake and a Phoenix."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.020af028a86e4141eddb604604567804a169da6a588b326f18d39cd2db3b5eb4.css integrity="sha256-AgrwKKhuQUHt22BGBFZ4BKFp2mpYizJvGNOc0ts7XrQ="><link rel=preload as=image href=/assets/x.svg><link rel=preload as=image href=/assets/github.svg><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/scheduling-ec2-instances-using-lambda-and-cloudwatch-events/><script>(function(){document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")})()</script><script src=/script.min.1052707861642a4eb63c758a2c16cbf5deb3b3ea2582f09f743a7d4c55fb9828.js integrity="sha256-EFJweGFkKk62PHWKLBbL9d6zs+olgvCfdDp9TFX7mCg=" defer></script></head><body><header class="site-header wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=wrapper><article><header class=page-title><h1 class=transition-between-pages style=--id:scheduling-ec2-instances-using-lambda-and-cloudwatch-events>Scheduling EC2 Instances using Lambda and CloudWatch Events</h1><time datetime=2017-11-24T00:00:00Z class=post__time>Nov 24, 2017</time></header><main class=prose><p>Over the past couple of months, MyBuilder has been transitioning from primarily a dedicated server stack (with orchestration through <a href=https://puppet.com/ rel="external noopener" target=_blank>Puppet</a>) to cloud infrastructure by way of <a href=https://aws.amazon.com/ rel="external noopener" target=_blank>Amazon Web Services</a>.
We have been a proponent of AWS for quite some time, taking advantage of services such as S3 and CloudFront in our current setup.
We are also not unfamiliar with EC2, spreading some of our application requirements onto several instances over the past couple of years.
However, we have not been fully embracing the &lsquo;Cloud nature&rsquo; of the product and are still treating each server as something between a <a href=https://martinfowler.com/bliki/SnowflakeServer.html rel="external noopener" target=_blank>Snowflake</a> and a <a href=https://martinfowler.com/bliki/PhoenixServer.html rel="external noopener" target=_blank>Phoenix</a>.</p><p>As the team and business needs expand, we felt this was an opportune time to embrace more of its offerings.
I&rsquo;ve recently discussed the reasoning behind this thought process on a <a href=https://threedevsandamaybe.com/lets-aws-everything/ rel="external noopener" target=_blank>podcast</a> I co-host.
Throughout this transition period, I wish to document our experiences moving solely over to the platform, sprinkling in a little Lambda along the way.</p><h2 id=starting-and-stopping-instances>Starting and Stopping Instances</h2><p>One of the key advantages of the Infrastructure as a Service (IaaS) movement is the ability to provision resources as and when you require them.
A good use case for this added functionality is the ability to start and stop development resources based on typical workweek patterns, providing additional cost savings.
In the video below, I highlight how you can start and stop EC2 instances in a scheduled (Cron-like) manner using Lambda, Node.js, and CloudWatch Events.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/roAerKVfq-Y?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><p>The associated code used in this video can be found <a href=https://gist.github.com/eddmann/a9e404eb62056f77610f752606a2e504 rel="external noopener" target=_blank>here</a>.</p><h2 id=scaling-instances>Scaling Instances</h2><p>I would now like to expand upon this example by taking advantage of another IaaS benefit - scaling a given resource based on your current demands.
In a similar manner to the first demonstration, I will now explain how you can scale an EC2 instance up and down based on a given schedule.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/_gJyK1-NGq8?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><p>The associated code used in this video can be found <a href=https://gist.github.com/eddmann/ce2c65e4000d07c421ad266d449550ab rel="external noopener" target=_blank>here</a>.</p><p>I hope these two short videos have highlighted some of the power that can be gained from using Function as a Service (FaaS) platforms such as Lambda in a server-management setting.
Both use cases would not have been possible in our previous dedicated server setup and give a small glimpse into the world of automating cloud-based server resources.</p></main><footer class=post__tags><a href=/archive/tag/aws>aws</a><a href=/archive/tag/ec2>ec2</a><a href=/archive/tag/lambda>lambda</a><a href=/archive/tag/cloudwatch>cloudwatch</a><a href=/archive/tag/serverless>serverless</a></footer></article><div class=scroll-watcher></div></main><footer class="site-footer wrapper"><div>&copy; 2025, Edd Mann</div><button class=theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>