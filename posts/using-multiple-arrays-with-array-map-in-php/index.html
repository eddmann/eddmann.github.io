<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Using Multiple Arrays with array_map in PHP - Edd Mann</title>
<meta name=description content="Learn how to supply multiple arrays to array_map in PHP, enabling elegant solutions for indexing and key-value access within callbacks."><meta name=author content="Edd Mann"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZPQ7WHNXH4"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZPQ7WHNXH4")}</script><meta itemprop=name content="Using Multiple Arrays with array_map in PHP"><meta itemprop=description content="Today, I stumbled upon some code that I did not realise was possible with the array_map function in PHP. You are able to supply multiple arrays, which in turn will get ‘zipped up’ and passed to the supplied callback as parameters. This allows for some rather elegant solutions to the ‘index issue’ and accessing keys from within the callback - both of which are easily achieved in an imperative mindset."><meta itemprop=datePublished content="2016-01-28T00:00:00+00:00"><meta itemprop=dateModified content="2016-01-28T00:00:00+00:00"><meta itemprop=wordCount content="247"><meta itemprop=keywords content="Php"><meta property="og:url" content="https://eddmann.com/posts/using-multiple-arrays-with-array-map-in-php/"><meta property="og:site_name" content="Edd Mann"><meta property="og:title" content="Using Multiple Arrays with array_map in PHP"><meta property="og:description" content="Today, I stumbled upon some code that I did not realise was possible with the array_map function in PHP. You are able to supply multiple arrays, which in turn will get ‘zipped up’ and passed to the supplied callback as parameters. This allows for some rather elegant solutions to the ‘index issue’ and accessing keys from within the callback - both of which are easily achieved in an imperative mindset."><meta property="og:locale" content="en_GB"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-01-28T00:00:00+00:00"><meta property="article:modified_time" content="2016-01-28T00:00:00+00:00"><meta property="article:tag" content="Php"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using Multiple Arrays with array_map in PHP"><meta name=twitter:description content="Today, I stumbled upon some code that I did not realise was possible with the array_map function in PHP. You are able to supply multiple arrays, which in turn will get ‘zipped up’ and passed to the supplied callback as parameters. This allows for some rather elegant solutions to the ‘index issue’ and accessing keys from within the callback - both of which are easily achieved in an imperative mindset."><meta name=twitter:site content="@edd_mann"><link rel=stylesheet href=/css/style.min.edfc847d0ae5aa99c1aab7f57def3e24393a345c6730bf7976fe9a89a0796d4a.css integrity="sha256-7fyEfQrlqpnBqrf1fe8+JDk6NFxnML95dv6aiaB5bUo="><link rel=preload as=image href=/assets/x.svg crossorigin=anonymous><link rel=preload as=image href=/assets/github.svg crossorigin=anonymous><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://eddmann.com/posts/using-multiple-arrays-with-array-map-in-php/><script>document.documentElement.setAttribute("data-theme",localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches&&"dark"||"light")</script><script src=/script.min.7f6917401c23509595a4da9144cfe3c8fde343c0352e6d627aa366129e1bdb48.js integrity="sha256-f2kXQBwjUJWVpNqRRM/jyP3jQ8A1Lm1ieqNmEp4b20g=" defer></script></head><body><header class="site-header l-wrapper"><a href=https://eddmann.com/><h3 class=site-header__title>Edd Mann
<span style=--url:url(/assets/code.svg)>Developer</span></h3></a><button class=site-header__mobile-navigation-button type=button title="Toggle mobile site navigation" aria-label="Toggle mobile site navigation" aria-expanded=false aria-controls=site-navigation></button><div class=site-header__navigation id=site-navigation><nav aria-label="Primary navigation"><ul class=site-header__primary-navigation><li><a href=/archive>Archive</a></li><li><a href=/projects>Projects</a></li><li><a href=/about>About</a></li></ul></nav><nav aria-label="Social links"><ul class=site-header__social-navigation><li><a class=social-icon style=--url:url(/assets/x.svg) href=https://x.com/edd_mann rel="external noopener" target=_blank>Twitter (X)</a></li><li><a class=social-icon style=--url:url(/assets/github.svg) href=https://github.com/eddmann rel="external noopener" target=_blank>GitHub</a></li></ul></nav></div></header><main class=l-wrapper><article><header class=l-page-title><h1 class=u-transition-between-pages style=--id:using-multiple-arrays-with-array-map-in-php>Using Multiple Arrays with array_map in PHP</h1><time datetime=2016-01-28T00:00:00Z class=published-at>Jan 28, 2016</time></header><main class=u-prose><p>Today, I stumbled upon some code that I did not realise was possible with the <code>array_map</code> function in PHP.
You are able to supply multiple arrays, which in turn will get &lsquo;zipped up&rsquo; and passed to the supplied callback as parameters.
This allows for some rather elegant solutions to the &lsquo;index issue&rsquo; and accessing keys from within the callback - both of which are easily achieved in an imperative mindset.</p><h2 id=current-index>Current Index</h2><p>Using the <code>range</code> function, we are able to supply a sequence of indexes based on the collection.
This allows us to access the current index from within the callback function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$users <span style=color:#f92672>=</span> [ <span style=color:#e6db74>&#39;Joe&#39;</span>, <span style=color:#e6db74>&#39;Bob&#39;</span>, <span style=color:#e6db74>&#39;Sam&#39;</span> ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>array_map</span>(<span style=color:#66d9ef>function</span> ($name, $position) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>compact</span>(<span style=color:#e6db74>&#39;position&#39;</span>, <span style=color:#e6db74>&#39;name&#39;</span>);
</span></span><span style=display:flex><span>}, $users, <span style=color:#a6e22e>range</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>count</span>($users)));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [ position =&gt; 1, name =&gt; &#39;Joe&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ position =&gt; 2, name =&gt; &#39;Bob&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ position =&gt; 3, name =&gt; &#39;Sam&#39; ]
</span></span></span></code></pre></div><h2 id=key-value-access>Key-Value Access</h2><p>One use case that a <code>foreach</code> provides is the ability to destructure an associative array, allowing you to access the key and value.
In its basic form, an <code>array_map</code> seems to be missing this capability; however, with the ability to supply multiple arrays, this is not the case.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$users <span style=color:#f92672>=</span> [ <span style=color:#ae81ff>123</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Joe&#39;</span>, <span style=color:#ae81ff>456</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Bob&#39;</span>, <span style=color:#ae81ff>789</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Sam&#39;</span> ];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>array_map</span>(<span style=color:#66d9ef>function</span> ($id, $name) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>compact</span>(<span style=color:#e6db74>&#39;id&#39;</span>, <span style=color:#e6db74>&#39;name&#39;</span>);
</span></span><span style=display:flex><span>}, <span style=color:#a6e22e>array_keys</span>($users), <span style=color:#a6e22e>array_values</span>($users));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [ id =&gt; 123, name =&gt; &#39;Joe&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ id =&gt; 456, name =&gt; &#39;Bob&#39; ]
</span></span></span><span style=display:flex><span><span style=color:#75715e>// [ id =&gt; 789, name =&gt; &#39;Sam&#39; ]
</span></span></span></code></pre></div></main><footer class=post-footer><ul class="tags tags--large"><li><a href=/archive/tag/php>php</a></li></ul><div class=related><h3 class=related__title>Related Posts</h3><ul class=related__posts><li><a href=/posts/developing-a-resizable-indexed-array-as-a-php-extension-with-joe-watkins/>Developing a Resizable-Indexed Array as a PHP Extension with Joe Watkins</a></li><li><a href=/posts/php-extension-development-for-beginners-with-joe-watkins/>PHP Extension Development for Beginners with Joe Watkins</a></li><li><a href=/posts/insertion-removal-and-inversion-operations-on-binary-search-trees-in-php/>Insertion, Removal and Inversion Operations on Binary (Search) Trees in PHP</a></li><li><a href=/posts/managing-jenkins-project-builds-and-configuration-using-php/>Managing Jenkins Project Builds and Configuration using PHP</a></li><li><a href=/posts/optional-value-control-flows-in-php-using-traits-and-magic-methods/>Optional Value Control-flows in PHP using Traits and Magic-methods</a></li></ul></div></footer></article><div class=scroll-watcher></div></main><footer class="site-footer l-wrapper"><div>&copy; 2025, Edd Mann</div><button class=site-footer__theme-toggle type=button title="Toggle theme" aria-label="Toggle theme"><svg fill="currentcolor" viewBox="0 0 32 32" role="img"><title>Theme toggle icon</title><desc>A circle representing the moon for toggling theme</desc><path d="M16 .5C7.4.5.5 7.4.5 16S7.4 31.5 16 31.5 31.5 24.6 31.5 16 24.6.5 16 .5zm0 28.1V3.4C23 3.4 28.6 9 28.6 16S23 28.6 16 28.6z"/></svg></button></footer></body></html>